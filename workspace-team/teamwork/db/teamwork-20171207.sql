/*
Navicat MySQL Data Transfer

Source Server         : alicloud
Source Server Version : 50637
Source Host           : www.gocoder.top:3306
Source Database       : teamwork

Target Server Type    : MYSQL
Target Server Version : 50637
File Encoding         : 65001

Date: 2017-12-07 19:52:35
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for article
-- ----------------------------
DROP TABLE IF EXISTS `article`;
CREATE TABLE `article` (
  `id` varchar(64) NOT NULL DEFAULT '' COMMENT '主键',
  `title` varchar(128) DEFAULT NULL COMMENT '标题',
  `brief` varchar(512) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '摘要',
  `detail` text COMMENT '文章内容',
  `category` varchar(128) DEFAULT NULL COMMENT '分类',
  `access` varchar(32) DEFAULT NULL COMMENT '访问权限',
  `status` varchar(32) DEFAULT NULL COMMENT '状态：草稿、发布',
  `view_time` int(8) DEFAULT NULL COMMENT '阅读次数',
  `thumb_up_time` int(8) DEFAULT NULL COMMENT '点赞次数',
  `author_name` varchar(64) DEFAULT NULL COMMENT '创建者名称',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `del_flag` varchar(64) DEFAULT NULL COMMENT '逻辑删除标记（0：显示；1：隐藏）',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='商品描述表';

-- ----------------------------
-- Records of article
-- ----------------------------
INSERT INTO `article` VALUES ('A17090116254132', 'ioctl无法正常执行（android64位系统上运行32位应用的兼容问题）', '问题一：ioctl未被调用到      背景：在64位安卓系统上运行32位应用程序，调用ioctl时，对应驱动没有运行ioctl    原因：针对上述背景的情况，ioctl调用的实际上是驱动中的compat_ioctl 接口，需要我们增加该定义（如果增加完该接口定义仍然没有调用到，尝试开启配置，  在device/nb/la68/ProjectConfig.mk（根据各人实际项目进入对应目录）下增加CONFIG_COMPAT = yes；），  驱动中增加compat_ioctl的定义，与unlocked_ioctl一样的定义方法    const struct file_operat...', '<div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><span style=\"font-size: 18px; font-weight: bold;\">问题一：ioctl未被调用到</span></div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">背景：在64位安卓系统上运行32位应用程序，调用ioctl时，对应驱动没有运行ioctl</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">原因：针对上述背景的情况，ioctl调用的实际上是驱动中的compat_ioctl 接口，需要我们增加该定义（如果增加完该接口定义仍然没有调用到，尝试开启配置，<span style=\"color: rgb(72, 71, 68); background-color: rgb(255, 255, 255);\">在device/nb/la68/ProjectConfig.mk（根据各人实际项目进入对应目录）下增加CONFIG_COMPAT = yes；），</span>驱动中增加compat_ioctl的定义，与unlocked_ioctl一样的定义方法</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">const struct file_operations stm32f103_fops = {</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	.owner = THIS_MODULE,</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;	.poll = stm32f103_poll,</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	.open = stm32f103_open,</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	.read = stm32f103_read_buff,</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	.write = stm32f103_write_buff,</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	.release = stm32f103_release,</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	.unlocked_ioctl = stm32f103_unlocked_ioctl,	</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	.compat_ioctl = stm32f103_compat_ioctl, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //32位应用运行在64位系统时ioctl调用该接口</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">};</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><span style=\"font-size: 18px; font-weight: bold;\">问题二：ioctl中调用copy_from_user时出错，提示地址有问题</span></div><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">背景：</p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">由于ioctl第三个参数，我在应用层中传入的是一个指向结构体的指针（该指针已由系统转换为64位指针，可以访问到用户空间的数据），且该结构体中含有指针成员，而指针在32位环境下为4位长度，在64位环境下为8位长度，同一个结构体，在不同的环境下，由于内存对齐，导致两个结构体实际的空间占用是不同的，在驱动中接收到该结构体后，进行数据处理需要注意结构体内存对齐问题，尤其是指针和long类型的数据要进行转换。</p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">原结构体如下：</p><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;typedef struct</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;	char data_len;</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;	char *data_buff;</div><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;}stm32_data_pack_t;</p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><br/></p><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">在驱动中增加定义了中间结构体，如下：</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;typedef struct</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;	char data_len;</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;	int data_buff;</div><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;}stm32_data_pack_32bit_t;</p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">转换方法：</p><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">在驱动中（64位环境）用int先存储传进来的32位环境下的4位长度char*，然后利用compat_ptr函数将32位地址转换为64位地址，这样得到的地址就可以拿来访问用户空间的数据了</div><br/><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><br/></p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">具体代码片段如下（参数arg为32位应用程序传进来的指向结构体的指针，该指针已由系统转换为64位环境下的地址）：</p><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">long stm32f103_compat_ioctl(struct file *file, unsigned int cmd, unsigned long arg)</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">{</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	stm32_data_pack_t data_pack;</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp; &nbsp;&nbsp;	stm32_data_pack_32bit_t &nbsp;data_pack_32bit;</div><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">	memset(&amp;data_pack_32bit, 0, sizeof(stm32_data_pack_32bit_t));</p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><br/></p><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp; &nbsp; &nbsp;ret = copy_from_user(&amp;data_pack_32bit, (stm32_data_pack_32bit_t *)arg, sizeof(stm32_data_pack_32bit_t));</div><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp; &nbsp; &nbsp;data_pack.data_len = data_pack_32bit.data_len;</div><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp; &nbsp; &nbsp;data_pack.data_buff= compat_ptr(data_pack_32bit.data_buff);</p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><br/></p><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;return ret；</div><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\">}</p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><span style=\"font-size: 14px; line-height: 24.5px; white-space: pre-wrap;\"></span><span style=\"font-size: 14px; line-height: 24.5px; white-space: pre-wrap;\">这里转换后的<span style=\"font-size: 14px; line-height: 24.5px; white-space: pre-wrap;\">data_pack.data_buff</span>是用户空间地址，需要调用相关接口（eg：<span style=\"font-size: 14px; line-height: 24.5px; white-space: pre-wrap;\">copy_from_user</span>）从用户空间地址拷贝到内核态地址来，才能处理数据。</span>	</p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"></p><div style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><span style=\"font-size: 18px; font-weight: bold;\">三、总结：</span></div><div style=\"white-space: pre-wrap; line-height: 1.75; text-indent: 28px; font-size: 14px;\"><span style=\"font-size: 18px; font-weight: bold;\">32位应用传入64位底层的数据要尽量避免开数据类型不兼容的类型，比如指针、long等，尤其是结构体需要格外注意，涉及到内存对齐问题。</span></div><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><br/></p><p style=\"white-space: pre-wrap; line-height: 1.75; font-size: 14px;\"><br/></p><p><br/></p>', 'DS3000,Linux,Android', 'public', 'publish', '27', '6', '黄文文', 'huangwenwen@star-net.cn', '2017-09-01 16:25:42', 'huangwenwen@star-net.cn', '2017-09-01 16:47:26', '0');
INSERT INTO `article` VALUES ('A17090116330647', 'flash 替换', '#### 一、概况及进展          由于原来使用的flash停产，需要在ds2600导入新flash。目前主要通过宇芯的黄工(huangshf&lt;huangshf@worldchip.cn&gt;)与全志协调来调试flash补丁，    计划导入的三款flash的计划及进入如下：          1. GD5F1GQ4UCYIG      	  - 调通补丁 （已完成）      	  - 使用x66测试验证 (已完成)      	  - x66小批量生产验证 (待生产)          2. W25N01GV(华邦)      	  - 补丁调试 (全志的提供的补丁无法...', '<p>#### 一、概况及进展</p><p><br/></p><p>由于原来使用的flash停产，需要在ds2600导入新flash。目前主要通过宇芯的黄工(huangshf&lt;huangshf@worldchip.cn&gt;)与全志协调来调试flash补丁，</p><p>计划导入的三款flash的计划及进入如下：</p><p><br/></p><p>1. GD5F1GQ4UCYIG</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- 调通补丁 （已完成）</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- 使用x66测试验证 (已完成)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- x66小批量生产验证 (待生产)</p><p><br/></p><p>2. W25N01GV(华邦)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- 补丁调试 (全志的提供的补丁无法兼容gd flash，需要找原厂更新新补丁)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- 使用x66测试验证 (未做)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- x66小批量 (未做)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p>3. PN26G01A (芯天下)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- 补丁调试 (芯片已寄出，大概1~2周可以全志可以调试完毕)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- 使用x66测试验证 (未做)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>- x66小批量 (未做)</p><p>备注：以前的芯片叫万宏（音是这么发的），具体型号问罗工</p><p>&gt; 各款flash的规格信息见datasheet目录</p><p>备注：接下来黄工会提供一个通用的补丁包，支持这三款flash，需要验证三款设备和以前的flash设备</p><p><br/></p><p>#### 二、补丁使用方式</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>1. 将全志给的补丁文件同步到sdk (GD flash的补丁已经同步到develop分支39203678b8c1)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>2. 执行mkuboot -&gt; mkall进行编译&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>3. 查看kmsg的uboot版本是否有更新(如:uboot:nand version: 2 29 20170622 1145)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>备注：开机时候，查看串口信息 uboot:nand version: 2 32 20170728 1145</p><p>#### 三、测试包打包方式</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>发布新测试包时可能只希望替换底层flash相关的改动，这种情况下可使用固件包修改工具对固件包进行修改(ds2600-sdk/lichee/tools/pack/dvp/full_image_parser)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>具体步骤如下:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>1. 在full_image_parser目录下运行&quot;unpack_full_img.sh + 要修改的固件&quot;，之后会在unpack_out目录生成解包内容。</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>2. 使用最新编译生成的fex文件(位于ds2600-sdk/lichee/tools/pack/out)替换原flash相关文件：</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>1. 替换unpack_out目录下的&quot;u-boot.fex、boot.fex、Vboot.fex、boot0_spinor.fex、boot0_spinand.fex、boot0_sdcard.fex&quot;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>2. 替换origin目录下的&quot;u-boot-spinor.fex&quot;。</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">			</span>备注：(拷贝&quot;u-boot-spinor.fex&quot;到&quot;origin_files&quot;目录下)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>3. 修改软件版本，修改unpack_out/rootfs/etc/dvp/sw_cfg/sw_ver.ini文件中的软件版本及日期，软件版本可以改为最新补丁提交后的commit号。</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>备注：取前5位（如 39203678b8c1 取 39203）</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>3. 执行pack_full_img.sh ./unpack_out来重新打包，之后会在packout目录下生成最新的固件（sun8iw8p1_camdroid_tiger-dvp-nand_uart0.img）。</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>有时需要修改网络固件升级包中flash相关的内容，步骤如下：</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>1.解包，需要将固件升级包中的如下几个文件进行替换:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>- u-boot.fex及boot.fex可以用最新编译生成的fex进行替换，同固件包替换方式相同</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>2.然后修改rootfs目录下etc/dvp/sw_cfg/sw_ver.ini的commit号</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>3.重新打包</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>具体的ota解包及打包方法见ds2600-sdk/lichee/tools/pack/dvp/ota_parser内的README.md</p><p>备注：需要用root 用户操作（普通用户不知道哪里缺少了权限）</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span> &nbsp;操作前需要 source下</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span> &nbsp;不同版本的都需要mkall一下（boot.fex包含版本信息等 ），mkuboot只需要一次</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span></p><p>#### 四、验证方式</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>1. 让测试部用新包过下基本功能看是否正常。</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>2. 使用工具进行读写压力测试，看是否异常log输出。(压力测试工具及方法见&quot;压力测试/spinand_test&quot;目录）</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>备注：一般测试时间为两天</p><p><br/></p><p>#### 五、其他</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>还有5台x30,及若干flash样片在全志那边，等flash调试完成之后需要他们将机器寄回来</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>备注：设备寄给了全志，我们找 宇兴 黄工中间人来归还设备，1台在罗工名下，4台在33名下</p><p>#### 相关联系人</p><p><br/></p><p>宇兴-黄工:<span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>huangshf@worldchip.cn</p><p>硬件-罗诚:<span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>luocheng@star-net.cn</p><p><br/></p>', 'DS2600', 'private', 'publish', '25', '7', '李晴', 'liqing@star-net.cn', '2017-09-01 16:33:06', 'liqing@star-net.cn', '2017-09-01 16:33:06', '0');
INSERT INTO `article` VALUES ('A17090414592661', '安卓ndk编译坑记录', '背景：将包含dvpjni库的I80应用跑到其他安卓设备上，踩到一些坑，可气的是怎么掉坑的都不知道，，记录一下血泪史          1、webrtc库引发的崩溃问题    今年3月份调试一个RK3288美的冰箱平板（安卓5.1），遇到dvp库使用ndk9编译的webrtc会崩溃。  当时的总结是【形参进来除（/）一个数，然后赋值给全局变量（或形参中的某个结构体成员）就会崩溃】  试过简单的测试程序也是这样，所以可能与webrtc无关，最终是把ndk版本改成10以上去编译就正常了。            这两处会死          以上可用的情况下在魔镜（安卓5.1）上也...', '<p><br/></p><p><br/>背景：将包含dvpjni库的I80应用跑到其他安卓设备上，踩到一些坑，可气的是怎么掉坑的都不知道，，记录一下血泪史</p><p><br/></p><div>1、webrtc库引发的崩溃问题</div><div>今年3月份调试一个RK3288美的冰箱平板（安卓5.1），遇到dvp库使用ndk9编译的webrtc会崩溃。<br/>当时的总结是【形参进来除（/）一个数，然后赋值给全局变量（或形参中的某个结构体成员）就会崩溃】<br/>试过简单的测试程序也是这样，所以可能与webrtc无关，最终是把ndk版本改成10以上去编译就正常了。</div><p><br/></p><p><img title=\"\" alt=\"1504508242230_967726.png\" src=\"http://39.108.177.3:8080/upload//images/2017-09-04/1504508242230_967726.png\"/>这两处会死</p><p><br/></p><div>以上可用的情况下在魔镜（安卓5.1）上也是可以的，未验证使用ndk9的会不会在魔镜崩溃</div><div>最近调试RK3128（安卓6.0.1）使用上述ndk13编译出来的webrtc给dvp使用又会崩溃了。。。<br/>日志指示WebRtcNsx_Create、WebRtcAecm_Init等底层接口会崩溃，单独webrtc测试程序与dvp无关跑进去又不会<br/>最终是改会用ndk9去编译webrtc才能正常，因为只有包含在dvp库下才会导致崩溃，而此时又无法打印log，所以没有查下去</div><div><br/>2、关于ndk版本的差异<br/>（1）NDK-9 函数中变量地址是向上增长的，NDK-13 是向下增长的<br/>（2）NDK-13编译可执行程序时需添加以下两条(安全机制判断)，否则执行会失败（提示：error: only position independent executables (PIE) are supported）<br/>&nbsp;&nbsp;LOCAL_CFLAGS += -fPIE<br/>&nbsp;&nbsp;LOCAL_LDFLAGS += -fPIE -pie<br/>&nbsp;如果NDK-9编译so时则不能包含这两句，否则在编译包含这个so的时候会编译失败提示找不到库里面的接口</div><div>&nbsp;<br/>3、dvpjni库无法打印log<br/>美的平板、RK3128、MTK-LA68这几个我碰到的dvp库下都无法打印安卓log，发现无法打印的都是打印到/dev/log/main那边（logcat没有输出）<br/>外面单独做一个log打印的so给dvp却可以，目前唯独发现webrtc库里面如果用ndk13编译会有底层部分无法打印出来（ndk9可以）</div><p><br/></p><p>4、so崩溃地址</p><div style=\"font-family:&#39;Helvetica Neue&#39;, Arial, sans;font-size:16px;\">编译出带地址符号表的so，出现崩溃时可用addr2line定位问题所在函数行数</div><div style=\"font-family:&#39;Helvetica Neue&#39;, Arial, sans;font-size:16px;\">cmd执行以下命令（<span style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\">addr2line 位于%NDKHOME%</span>	oolchainsarm-linux-androideabi-4.9prebuiltwindows-x86_64in目录下）</div><p style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\">arm-linux-androideabi-addr2line -C -f -e &nbsp;~/workspace/DLNA/libs/armeabi/libctrlpt.so 0003deb4</p><p style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\"><br/></p><p style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\"><br/></p><p style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\"><br/></p><p style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\"><br/></p><p style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\"><br/></p><p style=\"font-family:gotham, helvetica, arial, sans-serif;font-size:14px;\"><br/></p><p><br/></p>', 'DS3000,C&C++,Linux,Android', 'private', 'publish', '27', '4', '林圣腾', 'linshengteng@star-net.cn', '2017-09-04 14:59:26', 'linshengteng@star-net.cn', '2017-09-05 15:20:20', '0');
INSERT INTO `article` VALUES ('A17090810333894', 'Z73开发环境搭建', 'Z73开发环境搭建          一、下载代码。路径：svn://192.168.61.223/HZ300，分支太多，目前使用的是 branches/Z73_Pro_V3.1.X_A4          二、下载eclipse。地址：http://www.cnblogs.com/ls-33/p/6555564.html，参考这份eclipse搭建Android开发环境详细步骤        三、参照网上的步骤安装完Android SDK Manager。这个需要很久，但是我记得一路next就可以了，不需要选择什么。  如果全部安装，文件太大，时间也太长，据说只安装Android4.2....', '<p style=\"text-align: center;\">Z73开发环境搭建</p><p><br/></p><p>一、下载代码。路径：svn://192.168.61.223/HZ300，分支太多，目前使用的是 branches/Z73_Pro_V3.1.X_A4</p><p><br/></p><p>二、下载eclipse。地址：http://www.cnblogs.com/ls-33/p/6555564.html，参考这份eclipse搭建Android开发环境详细步骤<br/></p><p><br/>三、参照网上的步骤安装完Android SDK Manager。这个需要很久，但是我记得一路next就可以了，不需要选择什么。<br/>如果全部安装，文件太大，时间也太长，据说只安装Android4.2.2（API 17）就可以了。<br/>AVD创不创建都无所谓，反正模拟器也跑不起来。</p><p><br/></p><p>总之，需要三个包：eclipse、Android SDK， Android ndk；不用eclipse也可以，使用Android studio更方便，我没试过就写不出来了。</p><p><br/></p><p>四、Z73工程的编译：<br/>1、打开eclipse，导入Z73工程，File-&gt;Import-&gt;Android-&gt;Existing Android Code Into Workspace，选择代码路径，导入完成之后，会出现Z73工程。</p><p>2、设置android sdk路径：</p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-08/1504837966392_979518.png\" title=\"\" alt=\"1504837966392_979518.png\"/></p><p>3、先编译下，正常应该是会报错，因为svn上的编译环境传了个不能用的builder。右键Z73工程名，Properties-&gt;Builders，找到那个红色打叉的编译器，删掉就行了，这个本来是用来编译C的，暂时可以不用。<br/>4、如果顺利，应该可以编译通过了。然后打包，右键Z73工程名-&gt;Android Tools-&gt;Export Unsigned Application Package，弹出路径选择，就选Z73_Pro_V3.1.X_A4Z73升级包制作工具_A4，等待提示导出成功之后，执行Z73_Pro_V3.1.X_A4Z73升级包制作工具_A4Z73_Tool_A4.bat，这样升级包就打好了。<br/>5、用刚打好的包升级试试能不能跑起来。可以用IBMC网络升级，也可以用U盘升级。IBMC网络升级与设备端其他的机子升级方法相同，这里不再介绍，说一下U盘升级方法。升级包bin和md5两个文件拷贝到U盘根目录，插到Z73上，在界面上点“设置——&gt;应用设置（密码3888）——应用还原——应用升级”，等升级界面检测到/mnt/usb_storage/Z73_updateimage.upgrade之后，点“开始升级”，等待升级成功重启。</p><p><br/></p><p>五、编译过程中常遇到的问题：<br/>1、permission is only granted to system apps<br/>解决办法：Window -&gt; Preferences -&gt; Android -&gt; Lint Error Checking，找到ProtectedPermission选项，把安全等级降低，改成warning。<br/>类似这样的修改安全等级的问题可能还会碰到，也同样百度一下错误提示的关键词，找到对应的选项，修改安全等级即可。</p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-08/1504837841027_732683.png\" title=\"\" alt=\"1504837841027_732683.png\"/></p><p><br/></p><p>2、通常这两个勾要去掉。</p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-08/1504837855404_132793.png\" title=\"\" alt=\"1504837855404_132793.png\"/></p><p><br/></p><p>3、还有可能遇到Z73工程里面的SDK版本与实际安装的版本不符合，导致编译不过的问题，修改AndroidManifest.xml文件的<br/>&lt;uses-sdk android:minSdkVersion=&quot;17&quot; <br/>&nbsp;&nbsp;&nbsp; android:targetSdkVersion=&quot;17&quot; /&gt;<br/>配置项，改成实际安装的版本。<br/><br/>4、中文注释显示乱码<br/>解决办法：右键Z73工程名，Properties-&gt;Resource，修改Text file encoding的other选项为UTF-8<br/>总之，遇到编译打包问题，先检查一下java环境变量设置，再检查与Z73工程中的设置是否符合，再用错误提示关键词去百度。<br/><br/>六、Z73由于应用程序出错，升级了一个跑不起来的应用程序，解救办法：<br/>前提是网络还能用，U盘里放一个能跑起来的apk（Z73_PRO_A4.apk）。<br/>1、先用网络连上adb：<br/>电脑上打开cmd，adb start-server跑起来，<br/>再adb connect 192.168.0.73，可能会连接不上，提示unable to connect to 192.168.0.73:5555，此时在Z73的控制台输入</p><p>&nbsp;&nbsp;&nbsp;&nbsp;setprop service.adb.tcp.port 5555</p><p>&nbsp;&nbsp;&nbsp;&nbsp;stop adbd</p><p>&nbsp;&nbsp;&nbsp;&nbsp;start adbd</p><p>就是设置5555为监听端口， 重启了adb，然后再次输入adb connect 192.168.0.73就提示connected to 192.168.0.73:5555。<br/><br/>2、adb shell进入终端，查看原来Z73应用程序的名称pm list package，显示名称为com.M73.ManageCenter<br/>3、先卸载，再安装，否则安装时会提示Failure [INSTALL_FAILED_ALREADY_EXISTS]。<br/>卸载命令：pm uninstall com.M73.ManageCenter<br/>安装命令：pm intall /mnt/usb_storage/Z73_PRO_A4.apk（或者先进入/mnt/usb_storage目录，再pm install Z73_PRO_A4.apk也可以,这个比较管用）。<br/>最后提示安装成功。</p>', 'Android', 'private', 'publish', '18', '7', '方雪嵘', 'fangxuerong@star-net.cn', '2017-09-08 10:33:39', 'fangxuerong@star-net.cn', '2017-09-08 10:39:04', '0');
INSERT INTO `article` VALUES ('A17090811072879', 'Git - 如何导入一个已有大工程', 'Git - 如何导入一个已有大工程          一、原仓库it82-sdk.tgz，解压：tar -zxvf it82-sdk.tgz得到sdk_marshmallow_rk3128目录          二、在git上建立新的项目：git@192.168.61.223:device/sdk-rk3128.git          三、在原仓库目录下，将git服务器地址改成新的地址，具体操作如下：  &nbsp;&nbsp; &nbsp;1、git remote -v&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&n...', '<p style=\"text-align: center;\">Git - 如何导入一个已有大工程</p><p><br/></p><p>一、原仓库it82-sdk.tgz，解压：tar -zxvf it82-sdk.tgz得到sdk_marshmallow_rk3128目录</p><p><br/></p><p>二、在git上建立新的项目：git@192.168.61.223:device/sdk-rk3128.git</p><p><br/></p><p>三、在原仓库目录下，将git服务器地址改成新的地址，具体操作如下：<br/>&nbsp;&nbsp; &nbsp;1、git remote -v&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//显示该仓库当前的服务器地址<br/>&nbsp;&nbsp; &nbsp;2、git remote remove origin&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//删除该仓库当前的服务器地址<br/>&nbsp;&nbsp; &nbsp;3、git remote add origin git@192.168.61.223:device/sdk-rk3128.git&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; //添加新的地址<br/>&nbsp;&nbsp; &nbsp;4、git push -u origin master&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//上传<br/>&nbsp;&nbsp; &nbsp;然后就静静的等待上传结果吧，上传完成之后，看看服务器上有代码和log信息没有，有的话就ok了。<br/></p><p><span style=\"color: rgb(255, 0, 0);\">这里需要注意的地方</span>：<br/>&nbsp;&nbsp; &nbsp;1、添加新地址的时候，使用http://192.168.61.223/device/sdk-rk3128.git&nbsp; 本来也是可以的，问题是上传的文件太大时，http回超时退出，导致上传不成功。该项目解压之后的目录大约20G，先是因为采用http地址传不上去，再改成git地址，才成功的。<br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-08/1504840466814_876508.png\" title=\"\" alt=\"1504840466814_876508.png\"/> </p><p>2、刚开始为了保留原仓库的git log信息，说是要导入log什么的，脑袋全是懵的，在百度的过程中，直到看到一篇关于git仓库迁移的文章，才发现我们要做的其实就是把一个从其他地方拷过来的git仓库迁移到我们自己的服务器上面。而最终用到的几句关键命令，在第二步新的git项目创建成功之后，网页上就已经明确提示了，只是当时没太懂，看来人家还是挺明白开发者的需求的。</p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-08/1504839940286_303021.png\" title=\"\" alt=\"1504839940286_303021.png\"/></p><p><br/></p><p>四、接下来就是各位开发成员clone新的项目到本地了。原仓库已经没用了。<br/>&nbsp;&nbsp; &nbsp;其实把远程代码拉到本地是有两种方法的：<br/>&nbsp;&nbsp; &nbsp;1、git clone git@192.168.61.223:device/sdk-rk3128.git，这个可能比较常用<br/>&nbsp;&nbsp; &nbsp;2、按照第二步中，新的git项目创建成功之后，网页上提示的操作命令：<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mkdir sdk-rk3128<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;cd sdk-rk3128<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;git init<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;touch README.md（这步可省略）<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;git add README.md（这步可省略）<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;git commit -m &quot;fist commit&quot;（这步可省略）<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;git remote add origin git@192.168.61.223:device/sdk-rk3128.git<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;git push -u origin master （这步可省略）<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;其实到git remote add就够了，中间可省略的步骤都不要，直接git pull origin master，就可以将服务器上的代码拉下来了。<br/><br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style=\"color: rgb(255, 0, 0);\">&nbsp;这里需要注意的是</span>：我们60.213这台编译服务器是多人共用的，稍不留神就可能会用到别人的git账号。<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;按照推荐的操作，是采用如下命令登陆git账号：<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;git config --global user.name &quot;XXX&quot;<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;git config --global user.email &quot;YYY@star-net.cn&quot;<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;这是将该账号设置成了全局参数，我一开始没去重新设置，结果提交上去居然显示的作者是锦乐。<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;另外一个方法是修改自己本地目录下的git 配置，方法如下，加入红色方框内的几行就可以了：<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;cd sdk-rk3128<br/>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;vi .git/config</p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-08/1504839996237_463799.png\" title=\"\" alt=\"1504839996237_463799.png\"/></p><p>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; 最后保存退出，这样就不会设置成全局参数了。<br/></p>', 'Git&Svn', 'private', 'publish', '34', '12', '方雪嵘', 'fangxuerong@star-net.cn', '2017-09-08 11:07:28', 'fangxuerong@star-net.cn', '2017-09-08 11:14:49', '0');
INSERT INTO `article` VALUES ('A17091309502743', '整机出厂定制软件变更流程', '需求案例：            &nbsp; &nbsp;&nbsp;睿云联定制机型  E10S  ，生产过程中先使用智慧社区的固件进行烧写和测试，在出厂前做一次软件升级切换成睿云联的应用程序。    现由于睿云联客户需求变更，要求修改出厂前升级软件版本，具体处理流程如下：                    步骤一、使用PDM 软件找出整机料号                          （需要有PDM账号并开通相关权限）                    步骤二、打开整机收集所需信息          &nbsp; &nbsp;&nbsp;            ...', '<p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\"><strong>需求案例：</strong></span></p><p><img src=\"http://39.108.177.3:8080/static/ueditor/themes/default/images/spacer.gif\"/><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">&nbsp; &nbsp;&nbsp;睿云联定制机型<span style=\"font-size: 20px; font-family: 楷体, 楷体_GB2312, SimKai;\">E10S</span>，生产过程中先使用智慧社区的固件进行烧写和测试，在出厂前做一次软件升级切换成睿云联的应用程序。</span><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">现由于睿云联客户需求变更，要求修改出厂前升级软件版本，具体处理流程如下：</span></p><p><span style=\"font-family: 楷体, 楷体_GB2312, SimKai;\"><br/></span></p><p><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">步骤一、使用PDM 软件找出整机料号</span></strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-18/1505705264971_342626.png\" title=\"\" alt=\"1505705264971_342626.png\"/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">（需要有PDM账号并开通相关权限）</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></p><p><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">步骤二、打开整机收集所需信息</span></strong></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp;&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-09-18/1505705438830_462241.png\" title=\"\" alt=\"1505705438830_462241.png\"/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></p><p><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">步骤三、发送邮件发起更新流程</span></strong></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-18/1505705794910_163715.png\" title=\"\" alt=\"1505705794910_163715.png\"/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">（需要先上传升级包到svn 下）</span></p>', 'DS3000,DS2600,DS2000', 'private', 'publish', '62', '3', '丁庆发', 'dingqingfa@star-net.cn', '2017-09-13 09:50:27', 'dingqingfa@star-net.cn', '2017-09-18 14:32:31', '0');
INSERT INTO `article` VALUES ('A17092014572768', '关于android6.0以上系统获取wifi、蓝牙MAC地址的方法', '背景问题：              &nbsp;&nbsp;&nbsp;&nbsp;在android旧的系统版本（6.0之前）中通过下述接口即可获取到蓝牙MAC            &nbsp;&nbsp;&nbsp;&nbsp;BluetoothAdapter.getDefaultAdapter().getAddress().          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;但是在6.0中普通应用仅能获取到默认的无效MAC地址：&nbsp;      02:00:00:00:00:00           ...', '<p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 16px;\">背景问题：</span></code></strong></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;在android旧的系统版本（6.0之前）中通过下述接口即可获取到蓝牙MAC</span></code></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;BluetoothAdapter.getDefaultAdapter().getAddress().</span></code></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;但是在6.0中普通应用仅能获取到默认的无效MAC地址：&nbsp;</span><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\">02:00:00:00:00:00</span></code></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><strong><span style=\"font-size: 16px;\">解决方案：</span></strong><br/></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;</span></code><span style=\"font-size: 14px;\">要获取准确的MAC地址，</span><span style=\"font-size: 14px;\">具体方法参考 <a href=\"https://stackoverflow.com/questions/33377982/get-bluetooth-local-mac-address-in-marshmallow\">https://stackoverflow.com/questions/33377982/get-bluetooth-local-mac-address-in-marshmallow</a> </span></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;链接中的方法主要就是分以下两种情况<br/></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\"></span></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\">&nbsp;&nbsp;&nbsp;</code><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\">&nbsp;一、系统应用</span></code></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;作为系统应用，可以仍然使用上述接口，但是需要在AndroidMainfest.xml中添加如下权限</span></code></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;uses-permission android:name=&quot;android.permission.LOCAL_MAC_ADDRESS&quot;/&gt;</span></code></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\"> &nbsp; &nbsp;二、普通应用</span></code></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-stretch: inherit; font-size: 15px; line-height: 19.5px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal; background-color: rgb(255, 255, 255);\"><code style=\"margin: 0px; padding: 1px 5px; border: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: 13px; line-height: inherit; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(239, 240, 241);\"><span style=\"font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通过反射的方法获取</span></code></p>', 'DS3000,Android', 'public', 'publish', '20', '1', '黄文文', 'huangwenwen@star-net.cn', '2017-09-20 14:57:27', 'huangwenwen@star-net.cn', '2017-09-20 14:57:27', '0');
INSERT INTO `article` VALUES ('A17092515410473', '【出去浪】脚踩棋盘石、火烧棋盘寨-20170923', '天气不错，店家很大的门面。                向山内进发。                眼睛一闭一睁，此照差点成为ip6最后的作品。                看，有一只蜻蜓。                                  看起来现场火势很大。                炖锅出炉。                            卖相不错，缺饭一碗。                现场品鉴大师。                烤地瓜，唤起童年记忆。                他和他的西瓜雕艺术品。               ...', '<p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325171229_380923.jpg\" title=\"\" alt=\"1506325171229_380923.jpg\"/></p><p>天气不错，店家很大的门面。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325035660_988500.jpg\"/></p><p>向山内进发。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325790059_545503.jpg\" title=\"\" alt=\"1506325790059_545503.jpg\"/></p><p>眼睛一闭一睁，此照差点成为ip6最后的作品。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325849923_061131.jpg\" title=\"\" alt=\"1506325849923_061131.jpg\"/></p><p>看，有一只蜻蜓。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325911709_560491.jpg\" title=\"\" alt=\"1506325911709_560491.jpg\"/></p><p><br/></p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325034321_695539.jpg\"/></p><p>看起来现场火势很大。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325034394_231006.jpg\"/></p><p>炖锅出炉。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325034468_049224.jpg\"/></p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506326020621_768988.jpg\" title=\"\" alt=\"1506326020621_768988.jpg\"/></p><p>卖相不错，缺饭一碗。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325034479_465310.jpg\"/></p><p>现场品鉴大师。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325034549_571212.jpg\"/></p><p>烤地瓜，唤起童年记忆。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325036888_072320.jpg\"/></p><p>他和他的西瓜雕艺术品。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325034578_867713.jpg\"/></p><p>莆田系的争斗。</p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325035932_836679.jpg\"/></p><p><br/></p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-09-25/1506325035509_180611.jpg\"/></p><p>对着山竟然拍出了卖家秀的效果。</p><p><br/></p>', 'Other', 'private', 'publish', '42', '0', '丁庆发', 'dingqingfa@star-net.cn', '2017-09-25 15:41:04', 'dingqingfa@star-net.cn', '2017-09-25 16:04:41', '0');
INSERT INTO `article` VALUES ('A17092810124310', '采用Rabbitmq消息队列实现设备直连云平台', '1. 什么是RabbitMq          &nbsp; 官网：      http://www.rabbitmq.com/           &nbsp; RabbitMQ 是一个由erlang 开发的AMQP 的开源实现。        &nbsp; AMQP，即Advanced Message Queuing Protocol，是一个提供统一消息服务的应用层标准  高级消息队列协议  ，是应用层协议的一个开放标准，为面向消息的中间件设计。                  2.RabbitMq主要概念              &nbsp; Exchanges  ：pr...', '<p><strong><span style=\"font-size: 20px; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">1. 什么是RabbitMq</span></strong></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; 官网：</span><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; text-decoration: underline;\"><a href=\"http://www.rabbitmq.com/\" style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; text-decoration: underline;\">http://www.rabbitmq.com/</a></span> </p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; RabbitMQ 是一个由erlang 开发的AMQP 的开源实现。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; AMQP，即Advanced Message Queuing Protocol，是一个提供统一消息服务的应用层标准<strong>高级消息队列协议</strong>，是应用层协议的一个开放标准，为面向消息的中间件设计。</span></p><p><br/></p><p><span style=\"font-size: 20px;\"><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">2.RabbitMq主要概念</span></strong></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-weight: bold;\">&nbsp; Exchanges</span>：producer 在这里发布消息；</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-weight: bold;\">&nbsp; Queues</span>：consumer 从这里接收消息；存储还未被消费的消息；</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-weight: bold;\">&nbsp; Bindings</span>：确定从Exchanges 到特定Queue 的传输路径；</span></p><div><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-weight: bold;\">&nbsp; Connection</span>：就是一个TCP连接，Producer 和Consumer 都是通过TCP 连接到 RabbitMq server的。<br/></span></div><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-weight: bold;\">&nbsp; Channels</span>：虚拟连接，建立在TCP连接中，数据流动都是在Channel 中进行的。一个连接可创建多个通道以节省资源。一般情况下，程序起始建立TCP连接，第二步就是建立Channel。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp;<strong>vhost</strong>：每个virtual host本质上都是一个RabbitMQ Server，它拥有自己的queue，exchagne，和bings rule等等。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; 在多项目系统上可实现对不同项目资源分开管理，互补影响。</span></p><p><br/></p><p><br/></p><p><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">3. RabbitMq 的系统框架</span></strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></p><p><br/></p><p><br/></p><p><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">4. 在T91上使用RabbitMq</span></strong></p><p><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">5. RabbitMq调试方法</span></strong></p><p><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">6. 参考资料</span></strong></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp;</span><a href=\"http://blog.csdn.net/anzhsoft/article/details/19563091\" style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; text-decoration: underline;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">http://blog.csdn.net/anzhsoft/article/details/19563091</span></a> </p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp;</span></p>', 'DS3000,DS2600,DS2000,Java', 'private', 'draft', '5', '0', '丁庆发', 'dingqingfa@star-net.cn', '2017-09-28 10:12:44', 'dingqingfa@star-net.cn', '2017-09-28 11:16:54', '0');
INSERT INTO `article` VALUES ('A17101019522323', '如何更改触摸屏参数', '前言：          &nbsp;&nbsp;&nbsp;一般情况下ds2600平台的触摸屏配置参数都是由触摸屏厂商烧写配置好的，我们平台上面的只在          lichee/linux-3.4/drivers/input/touchscreen/gt9xx_ts/gt9xx_config.h b/lichee/linux-3.4/drivers/input/touchscreen/gt9xx_ts/gt9xx_config.h        该文件下做了触摸屏配置的备份，默认情况下没有生效，但有些情况下需要让触摸屏参数生效，比如：            验证某个触摸屏参...', '<p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><strong>前言：</strong></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp;&nbsp;一般情况下ds2600平台的触摸屏配置参数都是由触摸屏厂商烧写配置好的，我们平台上面的只在<br/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">lichee/linux-3.4/drivers/input/touchscreen/gt9xx_ts/gt9xx_config.h b/lichee/linux-3.4/drivers/input/touchscreen/gt9xx_ts/gt9xx_config.h</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">该文件下做了触摸屏配置的备份，默认情况下没有生效，但有些情况下需要让触摸屏参数生效，比如：</span></p><ul class=\" list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">验证某个触摸屏参数配置是否可用</span></p></li><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">设备厂商出厂时配置错参数 ，需要通过软件来校正参数（该情况真的存在</span><img src=\"http://img.baidu.com/hi/jx2/j_0064.gif\"/><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">）</span></p></li></ul><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><strong>配置触摸屏参数，让其生效的方法如下：</strong></span></p><ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;\"><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">获取所要配置的触摸屏参数（一般由触摸屏设备厂商提供）</span></p></li><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">查看配置文件sys_config.fex中设备对应的触摸屏参数配置数组，以X66L_1.0为例，该配置文件位于：</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">/camdroid/device/softwinner/tiger-dvp-nand/custom/x66l-1-0/001/lichee/pack_config/sys_config.fex</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">打开sys_config.fex找到ctp_name配置选项，如下</span></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-10-10/1507633836437_179970.png\" title=\"\" alt=\"1507633836437_179970.png\"/><br/></p></li><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">打开lichee/linux-3.4/drivers/input/touchscreen/gt9xx_ts/gt9xx_config.h b/lichee/linux-3.4/drivers/input/touchscreen/gt9xx_ts/gt9xx_config.h</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">找到第2步获取的ctp_name对应的名称&quot;gt911_tianzhiyu_x66l&quot;在gt9xx_config.h 文件中gt9xx_fw_grp所配置的数组</span></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-10-10/1507634119391_913143.png\" title=\"\" alt=\"1507634119391_913143.png\"/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">如该数组为gt911_tianzhiyu_x66l，对应配置如下</span><img src=\"http://39.108.177.3:8080/upload//images/2017-10-10/1507634211776_243339.png\" title=\"\" alt=\"1507634211776_243339.png\"/></p><p><br/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">将第1步获取的触摸屏参数填入到所对应的gt911_tianzhiyu_x66l[]数组中</span></p></li><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">由于默认情况下触摸屏参数配置是不生效的，更改lichee/linux-3.4/drivers/input/touchscreen/gt9xx_ts/gt9xx.h配置文件中</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">GTP_DRIVER_SEND_CFG为1，让触摸屏配置生效</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><img src=\"http://39.108.177.3:8080/upload//images/2017-10-10/1507636175357_609321.png\" title=\"\" alt=\"1507636175357_609321.png\"/></span></p></li><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">mkall 后打包固，烧写至设备，配置生效</span></p></li><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;如何查看当前的设备的触摸屏参数</span></p></li><ol class=\" list-paddingleft-2\" style=\"list-style-type: lower-alpha;\"><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">默认情况下GTP_DRIVER_SEND_CFG为0，则可以直接在设备端 cat /proc/kmsg&nbsp;</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">打印信息中查看GTP&nbsp;read&nbsp;param: 后面对应的参数，即为当前的配置触摸屏参数</span></p></li><li><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">当我们需要配置触摸屏参数让其生效时，在第5步中将GTP_DRIVER_SEND_CFG设置为1了，则kmsg中无法显示触摸屏参数，需要先将第6步打好的包烧进设备后，让配置生效了 ，然后将GTP_DRIVER_SEND_CFG设置为0，重新编译，将生成的gt9xx_ts.ko文件，路径如下</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">camdroid/out/target/product/tiger-dvp-nand/system/vendor/modules/gt9xx_ts.ko</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">将gt9xx_ts.ko文件替换到设备中，重启设备，此时，GTP_DRIVER_SEND_CFG为0，同a步一样，在kmsg中可以查看当前的配置触摸屏参数，对比是否与自己所设置的参数一致</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">如我们设备的配置参数如下：</span><img src=\"http://39.108.177.3:8080/upload//images/2017-10-10/1507635710910_771186.png\" title=\"\" alt=\"1507635710910_771186.png\"/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">查看kmsg中的参数如下：<br/></span></p><div><img src=\"http://39.108.177.3:8080/static/ueditor/themes/default/images/spacer.gif\"/></div></li><img src=\"http://39.108.177.3:8080/upload//images/2017-10-10/1507635773387_191576.png\" title=\"\" alt=\"1507635773387_191576.png\"/><br/><br/></ol><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp;可以发现参数配置成功了</span><ol class=\" list-paddingleft-2\" style=\"list-style-type: lower-alpha;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">ps：开头会有固定的字节80、47，末尾也会有多出一些数据，属正常情况</span></ol><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"></span></ol><p><br/></p><p><br/></p>', 'DS2600', 'private', 'publish', '31', '7', '李晴', 'liqing@star-net.cn', '2017-10-10 19:52:24', 'liqing@star-net.cn', '2017-10-10 19:52:24', '0');
INSERT INTO `article` VALUES ('A17102614530227', '', 'file.html  \r\n  @font-face { font-family: octicons-link; src: url(\"data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAA...', '<!DOCTYPE html><html><head><meta charset=\"utf-8\">\r\n<title>file.html</title>\r\n<style>@font-face { font-family: octicons-link; src: url(\"data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==\") format(\"woff\"); }.markdown-body { text-size-adjust: 100%; color: rgb(36, 41, 46); font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"; font-size: 16px; line-height: 1.5; word-wrap: break-word; }.markdown-body .pl-c { color: rgb(106, 115, 125); }.markdown-body .pl-c1, .markdown-body .pl-s .pl-v { color: rgb(0, 92, 197); }.markdown-body .pl-e, .markdown-body .pl-en { color: rgb(111, 66, 193); }.markdown-body .pl-smi, .markdown-body .pl-s .pl-s1 { color: rgb(36, 41, 46); }.markdown-body .pl-ent { color: rgb(34, 134, 58); }.markdown-body .pl-k { color: rgb(215, 58, 73); }.markdown-body .pl-s, .markdown-body .pl-pds, .markdown-body .pl-s .pl-pse .pl-s1, .markdown-body .pl-sr, .markdown-body .pl-sr .pl-cce, .markdown-body .pl-sr .pl-sre, .markdown-body .pl-sr .pl-sra { color: rgb(3, 47, 98); }.markdown-body .pl-v, .markdown-body .pl-smw { color: rgb(227, 98, 9); }.markdown-body .pl-bu { color: rgb(179, 29, 40); }.markdown-body .pl-ii { color: rgb(250, 251, 252); background-color: rgb(179, 29, 40); }.markdown-body .pl-c2 { color: rgb(250, 251, 252); background-color: rgb(215, 58, 73); }.markdown-body .pl-c2::before { content: \"^M\"; }.markdown-body .pl-sr .pl-cce { font-weight: bold; color: rgb(34, 134, 58); }.markdown-body .pl-ml { color: rgb(115, 92, 15); }.markdown-body .pl-mh, .markdown-body .pl-mh .pl-en, .markdown-body .pl-ms { font-weight: bold; color: rgb(0, 92, 197); }.markdown-body .pl-mi { font-style: italic; color: rgb(36, 41, 46); }.markdown-body .pl-mb { font-weight: bold; color: rgb(36, 41, 46); }.markdown-body .pl-md { color: rgb(179, 29, 40); background-color: rgb(255, 238, 240); }.markdown-body .pl-mi1 { color: rgb(34, 134, 58); background-color: rgb(240, 255, 244); }.markdown-body .pl-mc { color: rgb(227, 98, 9); background-color: rgb(255, 235, 218); }.markdown-body .pl-mi2 { color: rgb(246, 248, 250); background-color: rgb(0, 92, 197); }.markdown-body .pl-mdr { font-weight: bold; color: rgb(111, 66, 193); }.markdown-body .pl-ba { color: rgb(88, 96, 105); }.markdown-body .pl-sg { color: rgb(149, 157, 165); }.markdown-body .pl-corl { text-decoration: underline; color: rgb(3, 47, 98); }.markdown-body .octicon { display: inline-block; vertical-align: text-top; fill: currentcolor; }.markdown-body a { background-color: transparent; }.markdown-body a:active, .markdown-body a:hover { outline-width: 0px; }.markdown-body strong { font-weight: inherit; }.markdown-body strong { font-weight: bolder; }.markdown-body h1 { font-size: 2em; margin: 0.67em 0px; }.markdown-body img { border-style: none; }.markdown-body svg:not(:root) { overflow: hidden; }.markdown-body code, .markdown-body kbd, .markdown-body pre { font-family: monospace, monospace; font-size: 1em; }.markdown-body hr { box-sizing: content-box; height: 0px; overflow: visible; }.markdown-body input { font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; margin: 0px; }.markdown-body input { overflow: visible; }.markdown-body [type=\"checkbox\"] { box-sizing: border-box; padding: 0px; }.markdown-body * { box-sizing: border-box; }.markdown-body input { font-family: inherit; font-size: inherit; line-height: inherit; }.markdown-body a { color: rgb(3, 102, 214); text-decoration: none; }.markdown-body a:hover { text-decoration: underline; }.markdown-body strong { font-weight: 600; }.markdown-body hr { height: 0px; margin: 15px 0px; overflow: hidden; background: transparent; border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-left-color: initial; border-image: initial; border-bottom-style: solid; border-bottom-color: rgb(223, 226, 229); }.markdown-body hr::before { display: table; content: \"\"; }.markdown-body hr::after { display: table; clear: both; content: \"\"; }.markdown-body table { border-spacing: 0px; border-collapse: collapse; }.markdown-body td, .markdown-body th { padding: 0px; }.markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 { margin-top: 0px; margin-bottom: 0px; }.markdown-body h1 { font-size: 32px; font-weight: 600; }.markdown-body h2 { font-size: 24px; font-weight: 600; }.markdown-body h3 { font-size: 20px; font-weight: 600; }.markdown-body h4 { font-size: 16px; font-weight: 600; }.markdown-body h5 { font-size: 14px; font-weight: 600; }.markdown-body h6 { font-size: 12px; font-weight: 600; }.markdown-body p { margin-top: 0px; margin-bottom: 10px; }.markdown-body blockquote { margin: 0px; }.markdown-body ul, .markdown-body ol { padding-left: 0px; margin-top: 0px; margin-bottom: 0px; }.markdown-body ol ol, .markdown-body ul ol { list-style-type: lower-roman; }.markdown-body ul ul ol, .markdown-body ul ol ol, .markdown-body ol ul ol, .markdown-body ol ol ol { list-style-type: lower-alpha; }.markdown-body dd { margin-left: 0px; }.markdown-body code { font-family: SFMono-Regular, Consolas, \"Liberation Mono\", Menlo, Courier, monospace; font-size: 12px; }.markdown-body pre { margin-top: 0px; margin-bottom: 0px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: SFMono-Regular, Consolas, \"Liberation Mono\", Menlo, Courier, monospace; }.markdown-body .octicon { vertical-align: text-bottom; }.markdown-body .pl-0 { padding-left: 0px !important; }.markdown-body .pl-1 { padding-left: 4px !important; }.markdown-body .pl-2 { padding-left: 8px !important; }.markdown-body .pl-3 { padding-left: 16px !important; }.markdown-body .pl-4 { padding-left: 24px !important; }.markdown-body .pl-5 { padding-left: 32px !important; }.markdown-body .pl-6 { padding-left: 40px !important; }.markdown-body::before { display: table; content: \"\"; }.markdown-body::after { display: table; clear: both; content: \"\"; }.markdown-body > :first-child { margin-top: 0px !important; }.markdown-body > :last-child { margin-bottom: 0px !important; }.markdown-body a:not([href]) { color: inherit; text-decoration: none; }.markdown-body .anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; }.markdown-body .anchor:focus { outline: none; }.markdown-body p, .markdown-body blockquote, .markdown-body ul, .markdown-body ol, .markdown-body dl, .markdown-body table, .markdown-body pre { margin-top: 0px; margin-bottom: 16px; }.markdown-body hr { height: 0.25em; padding: 0px; margin: 24px 0px; background-color: rgb(225, 228, 232); border: 0px; }.markdown-body blockquote { padding: 0px 1em; color: rgb(106, 115, 125); border-left: 0.25em solid rgb(223, 226, 229); }.markdown-body blockquote > :first-child { margin-top: 0px; }.markdown-body blockquote > :last-child { margin-bottom: 0px; }.markdown-body kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(68, 77, 86); vertical-align: middle; background-color: rgb(250, 251, 252); border-width: 1px; border-style: solid; border-color: rgb(198, 203, 209) rgb(198, 203, 209) rgb(149, 157, 165); border-image: initial; border-radius: 3px; box-shadow: rgb(149, 157, 165) 0px -1px 0px inset; }.markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; }.markdown-body h1 .octicon-link, .markdown-body h2 .octicon-link, .markdown-body h3 .octicon-link, .markdown-body h4 .octicon-link, .markdown-body h5 .octicon-link, .markdown-body h6 .octicon-link { color: rgb(27, 31, 35); vertical-align: middle; visibility: hidden; }.markdown-body h1:hover .anchor, .markdown-body h2:hover .anchor, .markdown-body h3:hover .anchor, .markdown-body h4:hover .anchor, .markdown-body h5:hover .anchor, .markdown-body h6:hover .anchor { text-decoration: none; }.markdown-body h1:hover .anchor .octicon-link, .markdown-body h2:hover .anchor .octicon-link, .markdown-body h3:hover .anchor .octicon-link, .markdown-body h4:hover .anchor .octicon-link, .markdown-body h5:hover .anchor .octicon-link, .markdown-body h6:hover .anchor .octicon-link { visibility: visible; }.markdown-body h1 { padding-bottom: 0.3em; font-size: 2em; border-bottom: 1px solid rgb(234, 236, 239); }.markdown-body h2 { padding-bottom: 0.3em; font-size: 1.5em; border-bottom: 1px solid rgb(234, 236, 239); }.markdown-body h3 { font-size: 1.25em; }.markdown-body h4 { font-size: 1em; }.markdown-body h5 { font-size: 0.875em; }.markdown-body h6 { font-size: 0.85em; color: rgb(106, 115, 125); }.markdown-body ul, .markdown-body ol { padding-left: 2em; }.markdown-body ul ul, .markdown-body ul ol, .markdown-body ol ol, .markdown-body ol ul { margin-top: 0px; margin-bottom: 0px; }.markdown-body li > p { margin-top: 16px; }.markdown-body li + li { margin-top: 0.25em; }.markdown-body dl { padding: 0px; }.markdown-body dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; }.markdown-body dl dd { padding: 0px 16px; margin-bottom: 16px; }.markdown-body table { display: block; width: 100%; overflow: auto; }.markdown-body table th { font-weight: 600; }.markdown-body table th, .markdown-body table td { padding: 6px 13px; border: 1px solid rgb(223, 226, 229); }.markdown-body table tr { background-color: rgb(255, 255, 255); border-top: 1px solid rgb(198, 203, 209); }.markdown-body table tr:nth-child(2n) { background-color: rgb(246, 248, 250); }.markdown-body img { max-width: 100%; box-sizing: content-box; background-color: rgb(255, 255, 255); }.markdown-body code { padding: 0.2em 0px; margin: 0px; font-size: 85%; background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; }.markdown-body code::before, .markdown-body code::after { letter-spacing: -0.2em; content: \" \"; }.markdown-body pre { word-wrap: normal; }.markdown-body pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0px; }.markdown-body .highlight { margin-bottom: 16px; }.markdown-body .highlight pre { margin-bottom: 0px; word-break: normal; }.markdown-body .highlight pre, .markdown-body pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(246, 248, 250); border-radius: 3px; }.markdown-body pre code { display: inline; padding: 0px; margin: 0px; overflow: visible; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0px; }.markdown-body pre code::before, .markdown-body pre code::after { content: normal; }.markdown-body .full-commit .btn-outline:not(:disabled):hover { color: rgb(0, 92, 197); border-color: rgb(0, 92, 197); }.markdown-body kbd { display: inline-block; padding: 3px 5px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 11px; font-family: SFMono-Regular, Consolas, \"Liberation Mono\", Menlo, Courier, monospace; line-height: 10px; color: rgb(68, 77, 86); vertical-align: middle; background-color: rgb(250, 251, 252); border-width: 1px; border-style: solid; border-color: rgb(209, 213, 218) rgb(209, 213, 218) rgb(198, 203, 209); border-image: initial; border-radius: 3px; box-shadow: rgb(198, 203, 209) 0px -1px 0px inset; }.markdown-body :checked + .radio-label { position: relative; z-index: 1; border-color: rgb(3, 102, 214); }.markdown-body .task-list-item { list-style-type: none; }.markdown-body .task-list-item + .task-list-item { margin-top: 3px; }.markdown-body .task-list-item input { margin: 0px 0.2em 0.25em -1.6em; vertical-align: middle; }.markdown-body hr { border-bottom-color: rgb(238, 238, 238); }.markdown-body .warning { background-color: rgb(255, 255, 136); padding: 20px; border-radius: 6px; }.markdown-body pre code, .hljs { color: rgb(169, 183, 198); background: rgb(40, 43, 46); display: block; overflow-x: auto; padding: 0.5em; }.hljs-number, .hljs-literal, .hljs-symbol, .hljs-bullet { color: rgb(104, 151, 187); }.hljs-keyword, .hljs-selector-tag, .hljs-deletion { color: rgb(204, 120, 50); }.hljs-variable, .hljs-template-variable, .hljs-link { color: rgb(98, 151, 85); }.hljs-comment, .hljs-quote { color: rgb(128, 128, 128); }.hljs-meta { color: rgb(187, 181, 41); }.hljs-string, .hljs-attribute, .hljs-addition { color: rgb(106, 135, 89); }.hljs-section, .hljs-title, .hljs-type { color: rgb(255, 198, 109); }.hljs-name, .hljs-selector-id, .hljs-selector-class { color: rgb(232, 191, 106); }.hljs-emphasis { font-style: italic; }.hljs-strong { font-weight: bold; }</style>\r\n</head><body>\r\n<div id=\"preview\" class=\"markdown-body\">\r\n    <div cc-preview=\"\"><pre><code class=\"hljs language-c\"><span class=\"hljs-comment\">/*\r\n * =====================================================================================\r\n *\r\n *       Filename:  i2c_test.c\r\n *\r\n *    Description:  communication with n79e814a \r\n *\r\n *        Version:  1.0\r\n *        Created:  2015/10/22 15:10\r\n *       Revision:  none\r\n *       Compiler:  gcc\r\n *\r\n *         Author:  wangjl (), \r\n *        Company:  \r\n *\r\n * =====================================================================================\r\n */</span>\r\n\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;stdio.h&gt;  </span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;linux/i2c.h&gt;  </span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;linux/i2c-dev.h&gt;  </span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;fcntl.h&gt;  </span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;stdlib.h&gt;  </span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;unistd.h&gt;  </span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;sys/ioctl.h&gt;  </span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;string.h&gt; </span></span>\r\n\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">define</span>	I2C_DEV     <span class=\"hljs-meta-string\">\"/dev/i2c-1\"</span>			<span class=\"hljs-comment\">/*  */</span></span>\r\n\r\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">define</span> N79E814_I2C_ADDR    (0xA4 &gt;&gt; 1)</span>\r\n\r\n<span class=\"hljs-comment\">/* --------------------------------------------------------------------------*/</span>\r\n<span class=\"hljs-comment\">/**\r\n * @Brief  i2c_read\r\n *\r\n * @Param fd\r\n * @Param slave_addr：从设备的I2C 地址\r\n * @Param reg\r\n * @Param data: 读取后数据存放位置\r\n * @Param data_byte_count : 要读取几个字节\r\n *\r\n * @Returns   \r\n */</span>\r\n<span class=\"hljs-comment\">/* ----------------------------------------------------------------------------*/</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">i2c_read</span> <span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> fd, <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span> slave_addr, <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span> reg, <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span>* data, <span class=\"hljs-keyword\">int</span> data_byte_count )</span>\r\n</span>{\r\n    <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">i2c_rdwr_ioctl_data</span> <span class=\"hljs-title\">packets</span>;</span>\r\n    <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">i2c_msg</span> <span class=\"hljs-title\">messages</span>[2];</span>\r\n\r\n    messages[<span class=\"hljs-number\">0</span>].addr = slave_addr;\r\n    messages[<span class=\"hljs-number\">0</span>].flags = <span class=\"hljs-number\">0</span>;\r\n    messages[<span class=\"hljs-number\">0</span>].buf = &amp;reg;\r\n    messages[<span class=\"hljs-number\">0</span>].len = <span class=\"hljs-number\">1</span>;\r\n\r\n    messages[<span class=\"hljs-number\">1</span>].addr = slave_addr;\r\n    messages[<span class=\"hljs-number\">1</span>].flags = I2C_M_RD;\r\n    messages[<span class=\"hljs-number\">1</span>].buf = data;\r\n    messages[<span class=\"hljs-number\">1</span>].len = data_byte_count;\r\n\r\n    packets.msgs      = messages;  \r\n    packets.nmsgs     = <span class=\"hljs-number\">2</span>;\r\n\r\n    <span class=\"hljs-keyword\">if</span>(ioctl(fd, I2C_RDWR, &amp;packets) &lt; <span class=\"hljs-number\">0</span>) {  \r\n        perror(<span class=\"hljs-string\">\"Unable to send data\"</span>);  \r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">1</span>;  \r\n    } \r\n\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\r\n}		<span class=\"hljs-comment\">/* -----  end of function i2c_read  ----- */</span>\r\n\r\n<span class=\"hljs-comment\">/* --------------------------------------------------------------------------*/</span>\r\n<span class=\"hljs-comment\">/**\r\n * @Brief  \r\n *\r\n * @Param fd\r\n * @Param slave_addr:  slave i2c address\r\n * @Param reg:   write @data to this register or address\r\n * @Param data: \r\n * @Param data_byte_count: count the @data len with byte\r\n *\r\n * @Returns   \r\n */</span>\r\n<span class=\"hljs-comment\">/* ----------------------------------------------------------------------------*/</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">i2c_write</span> <span class=\"hljs-params\">(<span class=\"hljs-keyword\">int</span> fd, <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span> slave_addr, <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span> reg, \\\r\n        <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span>* data, <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span> data_byte_count )</span>\r\n</span>{\r\n    <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span> outbuf[I2C_RDRW_IOCTL_MAX_MSGS];\r\n    <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">i2c_rdwr_ioctl_data</span> <span class=\"hljs-title\">packets</span>;</span>  \r\n    <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">i2c_msg</span> <span class=\"hljs-title\">messages</span>[1];</span>  \r\n\r\n    <span class=\"hljs-keyword\">if</span>(data_byte_count &lt;= I2C_RDRW_IOCTL_MAX_MSGS){\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">-2</span>;\r\n    }\r\n\r\n    messages[<span class=\"hljs-number\">0</span>].addr  = slave_addr;  \r\n    messages[<span class=\"hljs-number\">0</span>].flags = <span class=\"hljs-number\">0</span>;  \r\n    messages[<span class=\"hljs-number\">0</span>].len   = data_byte_count + <span class=\"hljs-number\">1</span>;  \r\n    messages[<span class=\"hljs-number\">0</span>].buf   = outbuf;  \r\n\r\n    <span class=\"hljs-comment\">/* The first byte indicates which register we\'ll write */</span>  \r\n    outbuf[<span class=\"hljs-number\">0</span>] = reg;  \r\n\r\n    <span class=\"hljs-comment\">/*  \r\n     *  The second byte indicates the value to write.  Note that for many \r\n     *  devices, we can write multiple, sequential registers at once by \r\n     *  simply making outbuf bigger. \r\n     */</span>  \r\n    <span class=\"hljs-built_in\">memcpy</span>(outbuf + <span class=\"hljs-number\">1</span>, data, data_byte_count);\r\n\r\n    packets.msgs  = messages;  \r\n    packets.nmsgs = <span class=\"hljs-number\">1</span>;  \r\n\r\n    <span class=\"hljs-keyword\">if</span>(ioctl(fd, I2C_RDWR, &amp;packets) &lt; <span class=\"hljs-number\">0</span>) {  \r\n        perror(<span class=\"hljs-string\">\"Unable to send data\"</span>);  \r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">-1</span>;  \r\n    }\r\n\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\r\n}		<span class=\"hljs-comment\">/* -----  end of function i2c_write  ----- */</span>    \r\n\r\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">n79e814_version_read</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">void</span>)</span>\r\n</span>{\r\n    <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span> data[<span class=\"hljs-number\">2</span>] = {<span class=\"hljs-number\">0</span>};\r\n    <span class=\"hljs-keyword\">unsigned</span> <span class=\"hljs-keyword\">char</span> reg = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-keyword\">int</span> ret = <span class=\"hljs-number\">0</span>;\r\n\r\n    <span class=\"hljs-keyword\">int</span> fd = open(I2C_DEV, O_RDWR);\r\n    <span class=\"hljs-keyword\">if</span>(fd &lt; <span class=\"hljs-number\">0</span>){\r\n        perror(<span class=\"hljs-string\">\"Unable to open i2c control file\"</span>);  \r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">-1</span>;\r\n    }<span class=\"hljs-keyword\">else</span>{\r\n        <span class=\"hljs-built_in\">printf</span> ( <span class=\"hljs-string\">\"open %s success\\n\"</span>, I2C_DEV);\r\n    }\r\n\r\n    reg = <span class=\"hljs-number\">0x09</span>;\r\n    ret = i2c_read(fd, N79E814_I2C_ADDR, reg, data, <span class=\"hljs-number\">2</span>);\r\n    <span class=\"hljs-keyword\">if</span>(ret == <span class=\"hljs-number\">0</span>){\r\n        <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">\"n79e814a version is -&gt;  %d.%d \\n\"</span>, data[<span class=\"hljs-number\">0</span>], data[<span class=\"hljs-number\">1</span>]); \r\n    }<span class=\"hljs-keyword\">else</span>{\r\n        <span class=\"hljs-built_in\">printf</span> ( <span class=\"hljs-string\">\"read version fail\\n\"</span> );\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">return</span> ret;\r\n}\r\n\r\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span> <span class=\"hljs-params\">( <span class=\"hljs-keyword\">int</span> argc, <span class=\"hljs-keyword\">char</span> *argv[] )</span>\r\n</span>{\r\n\r\n    <span class=\"hljs-keyword\">int</span> ret = n79e814_version_read();\r\n\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\r\n}				<span class=\"hljs-comment\">/* ----------  end of function main  ---------- */</span>\r\n\r\n</code></pre>\r\n</div>\r\n  </div>\r\n</body></html>', null, 'private', 'draft', '0', '0', '王锦乐', 'wangjinle@star-net.cn', '2017-10-26 14:53:02', 'wangjinle@star-net.cn', '2017-10-26 14:53:02', '0');
INSERT INTO `article` VALUES ('A17110611163200', '2017深圳安博会观后感', '原计划是去全志排查DS2600的问题，碰巧赶上安博会，蹭了一会儿。                          第一天          参加瑞为智能安防方案推介会（T91人脸识别的方案商），了解该公司当前主推的一些安防产品，其中印象比较深的有下面几个：        1. 用于治安维稳的人脸追踪系统，可以根据目标人物的人脸分析并在地图上显示其行径路线。        找人变容易了，隐私没了，出门带口罩是个不错的选择。                    2. 由于人脸识别放后端成本很大，目前这个行业里面的趋势是识别算法前移，即在摄像头里面加入人脸算法模块。        ...', '<p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 16px;\"><strong>原计划是去全志排查DS2600的问题，碰巧赶上安博会，蹭了一会儿。</strong></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 24px;\"><strong><br/></strong></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 24px;\"><strong>第一天</strong></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">参加瑞为智能安防方案推介会（T91人脸识别的方案商），了解该公司当前主推的一些安防产品，其中印象比较深的有下面几个：</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">1. 用于治安维稳的人脸追踪系统，可以根据目标人物的人脸分析并在地图上显示其行径路线。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">找人变容易了，隐私没了，出门带口罩是个不错的选择。</span></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509948875932_161401.png\" title=\"\" alt=\"1509948875932_161401.png\"/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">2. 由于人脸识别放后端成本很大，目前这个行业里面的趋势是识别算法前移，即在摄像头里面加入人脸算法模块。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">瑞为主推的是FPGA方案，具有高并发、低功耗特点。行业概念“AI+安防：智能前移是必然”。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">瑞为的星光级人脸抓拍枪型产品（RN-FC-P11-01）支持逐帧人脸检测，单帧最大人脸数为32个。<br/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">也开始做硬件了。</span></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509949941795_579439.png\" title=\"1509949941795_579439.png\" alt=\"1509949941795_579439.png\" width=\"720\" height=\"380\"/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">3. 人证合一应用场景，用于判断证件关联的人脸与当前证件使用者的人脸是否相同。“证明你是不是你”。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">得益于厦门政府对瑞为的支持，目前厦门大部分码头都在用这套系统。但是稳定性还不是太好，他们的测试妹子都驻点到码头。</span></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509950810236_125578.png\" title=\"1509950810236_125578.png\" alt=\"1509950810236_125578.png\" width=\"800\" height=\"405\"/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">4. 人脸识别于立林智慧社区方案的应用，上去了一个立林院长，说是讲人脸应用实际更像是为自己打广告的。</span></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509951203033_353369.png\" title=\"1509951203033_353369.png\" alt=\"1509951203033_353369.png\" width=\"800\" height=\"420\"/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">讲台：</span></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509948663196_900836.png\" title=\"1509948663196_900836.png\" alt=\"1509948663196_900836.png\" width=\"680\" height=\"260\"/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">以下图册可以做进一步了解</span></p><p style=\"line-height: 16px;\"><img src=\"http://39.108.177.3:8080/static/ueditor/dialogs/attachment/fileTypeImages/icon_pdf.gif\"/><a style=\"font-size: 12px; color: rgb(0, 102, 204); font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; text-decoration: underline;\" href=\"http://39.108.177.3:8080/upload//files/2017-11-06/140331/瑞为智能安防宣传册2017年.pdf\" title=\"瑞为智能安防宣传册2017年.pdf\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">瑞为智能安防宣传册2017年.pdf</span></a></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 24px;\"><strong>第二天</strong></span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\">逛安博会场，时间比较仓促，逛了差不多2个小时。</span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\">楼宇对讲终端没什么变化，人脸识别已经很普遍。</span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\">主要趋势是 AI+安防 实现各种智能识别，防范于未然。</span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\">拍了一些室内机照片可用于后续新产品参考。</span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\">一堆插图。。。</span></p><p><br/></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509951573284_265348.png\" title=\"\" alt=\"1509951573284_265348.png\"/></span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\"><br/></span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509951635666_745011.png\" title=\"\" alt=\"1509951635666_745011.png\"/></span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\"><br/></span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952023425_917347.png\" title=\"\" alt=\"1509952023425_917347.png\"/></span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\"><br/></span></p><p><span style=\"font-family:微软雅黑, Microsoft YaHei\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952063745_113962.png\" title=\"\" alt=\"1509952063745_113962.png\"/></span></p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952209823_241884.png\" title=\"\" alt=\"1509952209823_241884.png\"/>、</p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952650576_821212.png\" title=\"\" alt=\"1509952650576_821212.png\"/></p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952247405_973494.png\" title=\"\" alt=\"1509952247405_973494.png\"/></p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952299944_315674.png\" title=\"\" alt=\"1509952299944_315674.png\"/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952383446_026847.png\" title=\"\" alt=\"1509952383446_026847.png\"/></p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509953140865_675332.png\" title=\"\" alt=\"1509953140865_675332.png\"/></p><p><br/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952863365_735881.png\" title=\"\" alt=\"1509952863365_735881.png\"/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-11-06/1509952923415_796353.png\" title=\"\" alt=\"1509952923415_796353.png\"/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">没了~<img src=\"http://img.baidu.com/hi/jx2/j_0028.gif\"/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></p>', 'Other', 'private', 'publish', '35', '1', '丁庆发', 'dingqingfa@star-net.cn', '2017-11-06 11:16:33', 'dingqingfa@star-net.cn', '2017-11-06 15:32:57', '0');
INSERT INTO `article` VALUES ('A17110814385658', 'build.gradle用于多分支打包粗浅认识', '了解的甚少，这篇主要想记录第2点里面  不同分支覆盖相同  j  ava源文件的需求  ，大神们帮忙指点      AS的gradle配置很强大，可以做很多事情，基本是可以替代Manifest的节奏          1、设置基本信息    如下所示在android下可以设置API、SDK等版本，设置包名版本号等，这些不细说了      android{          	  compileSdkVersion 21        &nbsp; &nbsp; buildToolsVersion &#39;23.0.2&#39;        &nbsp; &nbsp; default...', '<p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;\">了解的甚少，这篇主要想记录第2点里面<span style=\"box-sizing: border-box;\">不同分支覆盖相同<span style=\"box-sizing: border-box;\">j</span>ava源文件的需求</span>，大神们帮忙指点</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">AS的gradle配置很强大，可以做很多事情，基本是可以替代Manifest的节奏</p><p><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">1、设置基本信息</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">如下所示在android下可以设置API、SDK等版本，设置包名版本号等，这些不细说了</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">android{</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; color: rgb(0, 112, 192); white-space: pre;\">	</span>compileSdkVersion 21</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; buildToolsVersion &#39;23.0.2&#39;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; defaultConfig {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; &nbsp; &nbsp; applicationId &quot;com.evideo.i80&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; &nbsp; &nbsp; minSdkVersion 22</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; &nbsp; &nbsp; targetSdkVersion 22</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; &nbsp; &nbsp; versionCode 11645</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; &nbsp; &nbsp; versionName &quot;5.0.0&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; &nbsp; &nbsp; testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">&nbsp; &nbsp; }</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">//...</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">}</span><span style=\"box-sizing: border-box; color: rgb(0, 112, 192); white-space: pre;\">	</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">2、多分支buildTypes</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">buildTypes默认会有debug和release两种，可以任意添加其他分支，如I80、I100，如下所示（不打debug/release可以去掉）</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">android{</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>//...</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>buildTypes {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">			</span>I80 {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">				</span>signingConfig &nbsp;signingConfigs.debug</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">				</span>//buildConfigField(&quot;int&quot;, &quot;cloud_port&quot;, &quot;8888&quot;)</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">				</span>multiDexEnabled true</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">			</span>}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">			</span>I100 {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">				</span>signingConfig &nbsp;signingConfigs.debug</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">				</span>multiDexEnabled true</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">			</span>}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">			</span>debug {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">				</span>signingConfig &nbsp;signingConfigs.debug</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">				</span>multiDexEnabled true</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">			</span>}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">			</span>release {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">				</span>multiDexEnabled true</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">			</span>}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>}<span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span></span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">//...</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">}<span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span></span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">每个分支底下可以配置相应属性，比如不一样的签名、混淆文件等等。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">每添加一个分支，可以在源码src目录下对应添加以分支名命名的文件夹</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-20/1505894436099_042715.png\" title=\"\" alt=\"1505894436099_042715.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">原始默认放在main目录下，目录下包含java源文件、res、assets等，其他分支与main同级目录按相同目录结构建立</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">编译分支时先从分支目录下找，找不到则到main下面找，结构示例如下图</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-20/1505894458576_489574.png\" title=\"\" alt=\"1505894458576_489574.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">res和assets相同文件覆盖规则上没什么问题，我这边有个需求是想我<span style=\"box-sizing: border-box; font-weight: 700;\">两个分支只有一个HomeActivity内容不一样但想类名一样</span>，希望根据打出不同包去对应启动不同的HomeActivity，最土的方法当然是在main那边再新加一个如NewHomeActivity，根据判断启动哪个，这种方法显得代码臃肿了，会有一些代码在打某个包情况下根本没用。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">所以就想我能不能main和I100分支分别有一个HomeActivity，类似资源的覆盖关系，实验结果令人失望了，因为这种分支方式其实就是编译时选择对应源码去编译了，如果两边都有这个类，在编译main分支（就是debug或release分支）时没问题，但是编译I100分支时就会存在两个HomeActivity导致类冲突了</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">这种替换方式我是暂时没有办法，然后就用了另外一种方法，虽然不是完美，至少看着还算清晰：</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">就是<span style=\"box-sizing: border-box; font-weight: 700;\">再加一个I80分支</span>，也就是你这个工程有多少分支就建多少分支，默认的debug和release不作为打包发布用。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">然后保持main目录下只存放共有文件，如果存在差异文件，分别存放在分支上，在I80和I100分支同等目录下分别存放HomeActivity，去掉mian下面的HomeActivity（去掉后去编译main分支肯定失败，所以不作为打包用），使用时只打包对应分支，这样就达到用相同类的需求了，Manifest和main调用代码里面用到时写这个类名就行了，类里面你可以各自做自己的事情，每个分支各自独立的东西单独放，看起来比较清晰吧。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">附：补充一下buildTypes作为部分代码判断分支的方法</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">buildTypes的属性在工程被构建后会生成BuildConfig.java文件（如下图），这个类在代码是可以直接使用的</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-20/1505894620339_807361.png\" title=\"\" alt=\"1505894620339_807361.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">常用的BUILD_TYPE判断分支：</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">if (BuildConfig.BUILD_TYPE == &quot;I80&quot;){</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>//...</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">也可以自定义成员，比如在buildTypes添加buildConfigField(&quot;int&quot;, &quot;cloud_port&quot;, &quot;8888&quot;)，后面就能使用BuildConfig.cloud_port这个成员了</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-20/1505894663216_990784.png\" title=\"\" alt=\"1505894663216_990784.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">编译前可以在build Variants选择对应的分支：</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-21/1505990288678_302221.png\" title=\"\" alt=\"1505990288678_302221.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">打签名包时同样选择对应分支：</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-21/1505990369567_065252.png\" title=\"\" alt=\"1505990369567_065252.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">3、多渠道productFlavors</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">这个主要用于多渠道打包，还没用到，不深入说了，可以设定一些包名渠道号友盟之类的特性</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">productFlavors{</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>yingyongbao {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>dimension &quot;channel&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>manifestPlaceholders = [umeng_channel_value: &quot;yingyongbao&quot;]</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>resValue(&quot;bool&quot;, &quot;application_log_enable&quot;, &quot;false&quot;)</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>evideo {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>dimension &quot;firm&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>applicationId &quot;com.evideo.weiju&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>versionCode 20205</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>versionName &quot;1.1.2.5&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>mag {</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>dimension &quot;firm&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>applicationId &quot;com.magcctv.xyyj&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>versionCode 10100</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">		</span>versionName &quot;1.0.1&quot;</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\"><span class=\"Apple-tab-span\" style=\"box-sizing: border-box; white-space: pre;\">	</span>}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; color: rgb(112, 48, 160);\">}</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">添加productFlavors是会跟buildTypes结合使用的，属于相乘组合的形式，比如上面的例子最终可以打出这些包：yingyongbaoI80，yingyongbaoI100，evideoI80，evideoI100等</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">4、总结</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">gradle可以做很多事情，包括自动打包、添加混淆这些后面时间再说吧，有兴趣上网查一下玩一下，包括上面那些还有好多属性可以配，可以去尝试。可以借鉴的有：3000SDK分支有dvp混淆jar包的，微居APP有多渠道打包的，I100有覆盖java文件（还没上传，哈哈）。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">然后上面的多分支方式也可以替代此前T91S脚本切换版本的方式，有兴趣的可以去改造一下，作为练手。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">再扔一张gradle配置示例，有图的文章好像比较漂亮</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-09-20/1505894930838_208708.png\" title=\"\" alt=\"1505894930838_208708.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Microsoft YaHei&quot;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"http://img.baidu.com/hi/bobo/B_0056.gif\"/><img src=\"http://img.baidu.com/hi/tsj/t_0038.gif\"/><img src=\"http://img.baidu.com/hi/bobo/B_0021.gif\"/></p><p><br/></p>', 'DS3000,Android', 'private', 'draft', '0', '0', '林圣腾', 'linshengteng@star-net.cn', '2017-11-08 14:38:56', 'linshengteng@star-net.cn', '2017-11-08 14:38:56', '0');
INSERT INTO `article` VALUES ('A17110911110868', 'DS2000平台主线稳定性bug解决心得', '前言：        &nbsp;&nbsp;&nbsp;&nbsp;稳定性bug，一直是代码维护的疑难杂症，难点在于找出让bug复现的方法，以及定位死机的代码位置，从而找出产生bug的原因，最后得以解决。本章心得体会，从两个实例的稳定性bug，介绍了几种DS2000平台的bug定位方法，分享给大家，希望对今后的工作有所启发和帮助。              方法一：以界面为排查单位，确认内存是否泄漏。                        bug现象（漫索缺陷[B170822-001]、[B170828-004]和[B170822-009]）：        &nbsp;...', '<p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-size: 20px;\"><span style=\"box-sizing: border-box; font-weight: 700;\">前言：</span></span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;稳定性bug，一直是代码维护的疑难杂症，难点在于找出让bug复现的方法，以及定位死机的代码位置，从而找出产生bug的原因，最后得以解决。本章心得体会，从两个实例的稳定性bug，介绍了几种DS2000平台的bug定位方法，分享给大家，希望对今后的工作有所启发和帮助。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-size: 20px;\"><span style=\"box-sizing: border-box; font-weight: 700;\">方法一：以界面为排查单位，确认内存是否泄漏。</span></span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-size: 20px;\"><span style=\"box-sizing: border-box; font-weight: 700;\"><br/></span></span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">bug现象（漫索缺陷[B170822-001]、[B170828-004]和[B170822-009]）：</span><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;自动化测试，室内机概率性出现被叫死机。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">跟踪：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;log中，搜索重启关键字“udp_manager_init”，发现死机前多数处于被叫界面。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">分析：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;对于该类稳定性问题，多数情况下，死于被叫业务只是一个暴露问题的导火线，不是根本问题所在。由于音视频通话业务，所占内存较大，很容易触发由于内存管理不当，致使内存泄露，导致的死机问题。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">方法：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;可在_memleak_add()中，增加mem_block_cnt变量的打印，如果频繁执行某个测试用例，mem_block_cnt会不断增加，就说明该界面中有内存块没有被释放，就着重查看动态申请的内存，是否有对应的反初始化操作。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">定位：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;查看日志，记录测试用例中，所有进入的界面，用以上方法，定位存在内存泄露的界面。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">排查结果：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;通过该方法，定位到含有缩略图的物业讯息、访客留言、通话记录等界面，再查看代码中有动态申请内存部分的代码，可发现以下代码隐患，当resize_buf不为空时，已经动态申请了内存的bmp_data变量，没有被释放掉，造成了内存泄露：</span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">static void _msg_infor_load_thumb(msg_infor_widget_view_t* view, int thumb_w, int thumb_h)</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">{</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; unsigned char* bmp_data = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; int fsize = 0;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; FtkColor bg = {0};</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; ES_FILE* fp = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; char* file_name = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; __u8* resize_buf = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; BMP_HEADER* bmp_header = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; return_if_fail(view != NULL);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; if (view-&gt;rec_bmp_thumb != NULL)</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; ftk_bitmap_unref(view-&gt;rec_bmp_thumb);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; file_name = view-&gt;node-&gt;content;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; fp = fopen(file_name, &quot;r&quot;);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; fsize = task_msg_get_bmp_data_size(fp);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; __inf(&quot;[msg play load thumb: file=%s] &quot;, file_name);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; if (fsize &gt; 0) {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; bmp_data = (unsigned char* )eLIBs_malloc(fsize);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; if (bmp_data == NULL) {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __inf(&quot;bmp_data eLIBs_malloc failed! &quot;);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; else {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int bitCount = 24;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FtkBitmap* thumb = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; eLIBs_memset(bmp_data, 0, fsize);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fread(bmp_data, sizeof(char), fsize, fp);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bmp_header = (BMP_HEADER*)bmp_data;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bitCount = bmp_header-&gt;biBitCount;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (bmp_header-&gt;biWidth != thumb_w || bmp_header-&gt;biHeight != thumb_h) {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; resize_buf = (__u8*)ev_Vmalloc(((thumb_w * bitCount + 31) / 32) * 4 * thumb_h);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (resize_buf != NULL) {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __inf(&quot;resize_buf malloc ok &quot;);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bitmap_resize((__u8*)(bmp_data + sizeof(BMP_HEADER)),&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bmp_header-&gt;biBitCount,&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bmp_header-&gt;biWidth,&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bmp_header-&gt;biHeight,&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; resize_buf,&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; thumb_w,&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; thumb_h);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __inf(&quot;resize_buf malloc failed &quot;);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; thumb = ftk_bitmap_create(thumb_w, thumb_h, bg);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; view-&gt;rec_bmp_thumb = thumb;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (resize_buf != NULL) { &nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ui_common_bmp_copy24(view-&gt;rec_bmp_thumb, (unsigned char*)(resize_buf));</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ev_Vfree(resize_buf);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; resize_buf = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if(bmp_data != NULL) {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ui_common_bmp_copy24(view-&gt;rec_bmp_thumb,&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (unsigned char*)(bmp_data + sizeof(BMP_HEADER)));</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; eLIBs_free(bmp_data);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bmp_data = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; else {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; view-&gt;rec_bmp_thumb = ui_load_bitmap(&quot;common/default_image.png&quot;);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; }</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; if(fp != NULL) {</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; fclose(fp);</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; fp = NULL;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; }&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">解决：</span><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;如下修改，确保可能动态申请的内存，都会被尝试释放掉。修改后，再次跑相同测试用例，看是否还会出现死机，未出现即说明已解决。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510191167812_998369.png\" title=\"\" alt=\"1510191167812_998369.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-size: 20px;\"><span style=\"box-sizing: border-box; font-weight: 700;\"><br/></span></span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; font-size: 20px;\"><span style=\"box-sizing: border-box; font-weight: 700;\">方法二：从死机“Data Abort”信息中，定位死机的代码位置。</span></span></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">bug现象（漫索缺陷[B170822-001]和[B170823-001]）：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;自动化测试，死机于报警发生。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">跟踪：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;log中，搜索重启关键字“Data Abort”（只有串口代印才会有），发现死机前，处于报警发生时，准备进入报警发生界面前：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;</span><img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510191781061_618855.png\" title=\"\" alt=\"1510191781061_618855.png\"/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">分析：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;该类问题如果用“方法一”，排查不出有什么内存泄露相关的异常问题，且复现的概率又较低（例如2~3个小时出现一次）。可先从死机“Data Abort”信息中，尝试获取死机相关的函数与变量信息。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">方法：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;查看“Address of aborted instruction:”字段，表示最终死机的代码段位置。查看“current prio”字段，表示死机时现场处于哪个线程中。查看对应线程ID的现场堆栈信息。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">定位：</span><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;这里从日志中，可看出是死于线程ID为64的线程当中。对应的是音频播放线程函数_wav_thread()。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510191838442_227178.png\" title=\"\" alt=\"1510191838442_227178.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;以下由本人总结的几个常见的线程ID对应的线程函数：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;ui：129</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_dvp_sys_thread：37</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_wav_thread：64</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_dinosaur_thread_task：65</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_message_thread_task：66</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;net_thread:67</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;arec_thread:68</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_msg_srv_thread：97</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_netProto_udp_from_net_proc：98</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_msg_srv_thread_task：99</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_main_thread_task:100</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;task_alarm_thread：101</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_phone_thread：103</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_ihome_thread_task：104</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_elevator_thread_task：105</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_ext_sb_thread：106</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_manual_thread_task：107</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_ping_net_task:108</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_http_down_percent_thread：131</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_http_recv_service_proc：132</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_standby_thread_task：133</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_monitor_thread：134</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_ipc_thread：135</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_mediaplay_thread：136</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_doorbell_thread：137</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_cattle_thread：138</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;_task_intelligent_thread：139</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;从线程的现场堆栈信息中，查找出对应dvp_sym_map.txt或epos_map.txt中的函数或变量，可发现第一个对应函数的是地址0xe1893708，对应的是dvp_sym_map.txt中的eLIBs_fseek()函数（地址0xe1893700）。</span><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510191969155_497296.png\" title=\"\" alt=\"1510191969155_497296.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;最终死机地址“Address of aborted instruction”的c203e29c，对应的是epos_map.txt中的esFSYS_fseek()函数（地址0xc203e18c），进一步确认死机在eLIBs_fseek()函数中。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510192006747_741145.png\" title=\"\" alt=\"1510192006747_741145.png\"/>&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;查看死机现场寄存器中的数据，“r[4] = 0”、“r[5] = 2c”、“r[6] = 0”，分别对应着eLIBs_fseek()的三个参数，可以发现参数一为空，是不正常的。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510192107273_598058.png\" title=\"\" alt=\"1510192107273_598058.png\"/>&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;综上，可以初步判断，死机在线程函数_wav_thread()中，调用到eLIBs_fseek()的地方，原因是参数一，即文件句柄指针为空导致的。</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;注：以上根据地址对应函数或变量的过程，可借助附件中本人编写的convert_addr_to_func_name.py脚本，自动解析出，所有线程现场中可能的对应函数与变量。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">排查结果：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;通过代码中查找eLIBs_fseek()，_wav_thread()相关的，只有audioplayer_api.c中的_wav_thread()和_wav_play()中的两处。再仔细阅读代码逻辑，并联系报警发生过程（先是播放了报警声，然后又播放了按键声），可以看出文件句柄指针wav_player.fp，有用类似互斥锁机制的WAVPLAY_ENTER_CRITICAL()和WAVPLAY_EXIT_CRITICAL()保护起来，但_wav_play()中，锁保护范围的颗粒度太小，由于eLIBs_fwrite()函数执行周期可能较长，会在执行eLIBs_fwrite()的时候，被播放按键音的_wav_stop()穿插执行，进行反初始化，将其文件句柄置为了空指针，然后播放报警声的_wav_play()继续走，当执行到eLIBs_fseek()的时候，便因为该指针为空，而导致死机。</span><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510193184744_979989.png\" title=\"\" alt=\"1510193184744_979989.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510193244594_592866.png\" title=\"\" alt=\"1510193244594_592866.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;没错，恭喜找到了可能的bug的根本原因，接下来，就差进一步解决后的验证。</span><br/><span style=\"box-sizing: border-box; font-weight: 700; line-height: 21.0526px;\">解决：</span><br/><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;适当增加锁保护范围的颗粒度（前提是执行周期较短），对文件句柄指针的判断与调用，需要在同一对互斥锁保护中，避免被穿插访问共享内存数据。</span><br/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510192903381_962067.png\" title=\"\" alt=\"1510192903381_962067.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510192936053_819770.png\" title=\"\" alt=\"1510192936053_819770.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510192957965_760083.png\" title=\"\" alt=\"1510192957965_760083.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; white-space: normal; line-height: 21.0526px; background-color: rgb(255, 255, 255);\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510193011134_633349.png\" title=\"\" alt=\"1510193011134_633349.png\"/></p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Microsoft YaHei&#39;, ����, Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 21.0526px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"box-sizing: border-box; line-height: 21.0526px;\">&nbsp;&nbsp;&nbsp;&nbsp;修改后，再次跑相同测试用例，看是否还会出现死机，未出现即说明已解决。</span></p><p><br/></p>', 'DS2000,C&C++', 'private', 'publish', '29', '5', '陈钟', 'chenzhong.sy@star-net.cn', '2017-11-09 11:11:09', 'chenzhong.sy@star-net.cn', '2017-11-09 11:13:09', '0');
INSERT INTO `article` VALUES ('A17110911243780', 'T91人脸识别方案技术资料 - 不断更新', '1. T91S人脸识别技术采用的是什么技术，有哪些优势？        &nbsp; &nbsp; 深度学习技术，识别准确率高，误检少，误识率低，拒识率低。        	        2. 人脸特征提取的方法是什么？传统的方式有几何特征和光度测量，比较新的方式有3D识别、皮肤特质分析和热成像摄影。        &nbsp; &nbsp; 咱们是属于哪一种，或者我们独有的方式是什么？这种方式有哪些优势？        &nbsp; &nbsp; (1)人脸质量判断、        &nbsp; &nbsp; 对于同一个ID的人脸，利用人脸角...', '<p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><img src=\"http://39.108.177.3:8080/upload//images/2017-11-09/1510197845113_097134.png\" title=\"\" alt=\"1510197845113_097134.png\"/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">1. T91S人脸识别技术采用的是什么技术，有哪些优势？</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; 深度学习技术，识别准确率高，误检少，误识率低，拒识率低。</span></p><p><span style=\"white-space: pre; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">	</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">2. 人脸特征提取的方法是什么？传统的方式有几何特征和光度测量，比较新的方式有3D识别、皮肤特质分析和热成像摄影。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; 咱们是属于哪一种，或者我们独有的方式是什么？这种方式有哪些优势？</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; (1)人脸质量判断、</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; 对于同一个ID的人脸，利用人脸角度算法和模糊度算法，选取一张角度最正的、模糊度最低的人脸。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; (2)人脸特征提取</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; 采用深度学习算法，利用目前最先进的inception-resnet网络结构，共28层网络对人脸进行特征提取。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; (3)人脸比对</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; 采用聚类算法，离线对人脸库进行特征聚类，线上比对时能够快速定位到所在的类中心，减少比对次数。 </span><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp;</span></p><p><span style=\"white-space: pre; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">	</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">3. 提取的人脸特征是以什么形式存储的，如图像、代码？存储的方式有什么讲究么（相比其他方式有什么优势）？</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; 加密的二进制文件，特征不可逆，无法复原，更加安全。</span></p><p><span style=\"white-space: pre; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">	</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">4. 人脸识别准确性（早期看宣传手册上是99.9%，现在更新成92%）？这个数据是如何测试或验证的？</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; 99.9%的是针对1：1的识别率，92%针对是是百万级标准人脸库的1：N的比对识别率。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; 这些数据都是在通用的人脸识别环境下测试</span></p><p><span style=\"white-space: pre; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">	</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">5. 人脸识别的能力有多强？以如下几种特殊情况来分析：</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; --用户配套眼镜、帽子、化妆、蓄胡子、留长发</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; --少数人群体，如黑人</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; --表情变化，如笑脸</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; color: rgb(75, 172, 198);\">&nbsp; &nbsp; 除墨镜、口罩外，几乎没有什么影响，都可以正常识别。</span></p><p><br/></p>', 'Other', 'private', 'publish', '18', '2', '丁庆发', 'dingqingfa@star-net.cn', '2017-11-09 11:24:38', 'dingqingfa@star-net.cn', '2017-11-09 11:24:38', '0');
INSERT INTO `article` VALUES ('A17111415521278', 'U33R通过WIFI控制空调', '&nbsp;      &nbsp;        U33R  通过    WIFI    控制空调          这是对接这么多家智能家居以来，最简单也是最麻烦的一家。        简单是因为室内机没有界面，不用控制，只起个中转作用；麻烦也是因为要中转·······          &nbsp;        主要功能        手机发送请求到云服务器，云服务器转发给室内机，室内机最终通过  485    与空调通讯，并将结果层层反馈回去。          &nbsp;      &nbsp;        &nbsp;      &nbsp;      &nbsp;  工...', '<p>&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><h1 style=\"text-align: center; margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">U33R<span style=\"font-family: 宋体;\">通过</span><span style=\"font-family: Times New Roman;\">WIFI</span><span style=\"font-family: 宋体;\">控制空调</span></span></h1><p><span style=\"color: rgb(118, 146, 60);\">这是对接这么多家智能家居以来，最简单也是最麻烦的一家。</span></p><p><span style=\"color: rgb(118, 146, 60);\">简单是因为室内机没有界面，不用控制，只起个中转作用；麻烦也是因为要中转·······</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><h2 style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">主要功能</span></h2><p style=\"text-indent: 28px; margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">手机发送请求到云服务器，云服务器转发给室内机，室内机最终通过<span style=\"font-family: Times New Roman;\">485</span><span style=\"font-family: 宋体;\">与空调通讯，并将结果层层反馈回去。</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\">&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-14/1510649836160_521237.png\" title=\"\" alt=\"1510649836160_521237.png\"/></p><p><span style=\"font-family:;\">&nbsp;</span></p><p>&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;<span style=\"font-family:;\">工作内容主要划分为三块</span></span></p><h3 style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">一、<span style=\"font-family: Times New Roman;\">485</span><span style=\"font-family: 宋体;\">协议，实现室内机与空调之间的通讯：</span></span></h3><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">流程：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">1、室内机获取空调地址，将接收的所有地址保存到<span style=\"font-family: Times New Roman;\">addr_table</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">2、室内机查询空调的当前状态，并保存返回结果</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">3、室内机控制空调，并保存返回结果</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><h3 style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">二、<span style=\"font-family: Times New Roman;\">http</span><span style=\"font-family: 宋体;\">协议，实现室内机与云服务器之间的通讯：</span></span></h3><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">1、通过<span style=\"font-family: Times New Roman;\">http</span><span style=\"font-family: 宋体;\">请求，完成业务启动流程：</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-14/1510649940059_155582.png\" title=\"\" alt=\"1510649940059_155582.png\"/></span></p><p style=\"margin-bottom:0;margin-top:0\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">2、通过<span style=\"font-family: Times New Roman;\">mq</span><span style=\"font-family: 宋体;\">消息队列，完成上层对空调的查询和控制命令的收发</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">1<span style=\"font-family: 宋体;\">）了解</span><span style=\"font-family: Times New Roman;\">RabbitMQ</span><span style=\"font-family: 宋体;\">的基础慨念和</span><span style=\"font-family: Times New Roman;\">RabbitMQ&nbsp;Server</span><span style=\"font-family: 宋体;\">在</span><span style=\"font-family: Times New Roman;\">Windows</span><span style=\"font-family: 宋体;\">上的安装方法：</span></span><a href=\"https://www.cnblogs.com/shanyou/p/4067250.html\"><span style=\"color: rgb(0, 0, 255); font-family:;\">https://www.cnblogs.com/shanyou/p/4067250.html</span></a></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">2<span style=\"font-family: 宋体;\">）从网上下载一个</span><span style=\"font-family: Times New Roman;\">RabbitMQ</span><span style=\"font-family: 宋体;\">的</span><span style=\"font-family: Times New Roman;\">C</span><span style=\"font-family: 宋体;\">库</span><span style=\"font-family: Times New Roman;\">rabbitmq-c-0.5.2.tar.gz</span><span style=\"font-family: 宋体;\">，移植，参照里面的</span><span style=\"font-family: Times New Roman;\">example</span><span style=\"font-family: 宋体;\">开始写代码</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">3<span style=\"font-family: 宋体;\">）自己再搭建一个</span><span style=\"font-family: Times New Roman;\">RabbitMQ&nbsp;Server</span><span style=\"font-family: 宋体;\">，便于调试，也便于对</span><span style=\"font-family: Times New Roman;\">C</span><span style=\"font-family: 宋体;\">库的接口中使用的各个参数加深理解。</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">3<span style=\"font-family: 宋体;\">、</span><span style=\"font-family: Times New Roman;\">Json</span><span style=\"font-family: 宋体;\">解析</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">Json<span style=\"font-family: 宋体;\">就是跟</span><span style=\"font-family: Times New Roman;\">ini</span><span style=\"font-family: 宋体;\">、</span><span style=\"font-family: Times New Roman;\">xml</span><span style=\"font-family: 宋体;\">类似的一种文本格式。</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">JSON&nbsp;比&nbsp;XML&nbsp;更小、&nbsp;更快，&nbsp;更易解析。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">JSON&nbsp;具有自我描述性，&nbsp;语法简洁，&nbsp;易于理解。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">CJSON库就实现了结构体与文本之间的互转。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-14/1510649955029_463128.png\" title=\"\" alt=\"1510649955029_463128.png\"/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">有了这个地址，基本上都懂了：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><a href=\"https://www.cnblogs.com/liunianshiwei/p/6087596.html\"><span style=\"color: rgb(0, 0, 255); font-family:;\">https://www.cnblogs.com/liunianshiwei/p/6087596.html</span></a></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">里面连<span style=\"font-family: Times New Roman;\">CJSON</span><span style=\"font-family: 宋体;\">库下载地址都附上了：</span></span><a href=\"https://github.com/DaveGamble/cJSON\"><span style=\"color: rgb(0, 0, 255); font-family:;\">https://github.com/DaveGamble/cJSON</span></a></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">同样是参照里面的例子就可以写了。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><h3 style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">三、<span style=\"font-family: Times New Roman;\">WIFI</span><span style=\"font-family: 宋体;\">功能配置和双网卡的路由配置</span></span></h3><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">1、编辑一个文件wpa_supplicant.conf，格式如下：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">ctrl_interface=/data/misc/wifi/wpa_supplicant</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">ap_scan=1</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">network={</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">ssid=&quot;22#3F-szjjyfb-AP5_SUB&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">scan_ssid=1</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">psk=&quot;ffgghhjj&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">保存在/data/misc/wifi/目录下。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">2、修改<span style=\"font-family: Times New Roman;\">user_op.sh</span><span style=\"font-family: 宋体;\">中的开机启动配置：</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">注释掉原来这句，这是把<span style=\"font-family: Times New Roman;\">U33R</span><span style=\"font-family: 宋体;\">配置成</span><span style=\"font-family: Times New Roman;\">wifi</span><span style=\"font-family: 宋体;\">热点，用于小咚连接</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">#wpa_supplicant&nbsp;-i&nbsp;wlan0&nbsp;-c&nbsp;/system/etc/wifi/wpa_supplicant.conf</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">加入以下语句：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">#U33R<span style=\"font-family: 宋体;\">开机自动连接</span><span style=\"font-family: Times New Roman;\">wifi</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">if&nbsp;[&nbsp;!&nbsp;-f&nbsp;&quot;/etc/dvp/sw_cfg/etc/wpa_supplicant.conf&quot;&nbsp;];&nbsp;then</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">echo&nbsp;&quot;wpa&nbsp;file&nbsp;not&nbsp;exist&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">else</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">echo&nbsp;&quot;wpa&nbsp;file&nbsp;exist&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">ln&nbsp;-s&nbsp;/etc/dvp/sw_cfg/etc/wpa_supplicant.conf&nbsp;/data/misc/wifi/wpa_supplicant.conf</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">busybox&nbsp;ifconfig&nbsp;wlan0&nbsp;up</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">wpa_supplicant&nbsp;-Dnl80211&nbsp;-iwlan0&nbsp;-c/data/misc/wifi/wpa_supplicant.conf&nbsp;-B</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">dhcpcd&nbsp;wlan0</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">source&nbsp;/etc/dvp/sw_cfg/etc/route.conf</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">fi</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">即如果存在<span style=\"font-family: Times New Roman;\">wpa_supplicant.conf</span><span style=\"font-family: 宋体;\">文件，则启用</span><span style=\"font-family: Times New Roman;\">wifi</span><span style=\"font-family: 宋体;\">去连接文件中的热点，这里为了方便</span><span style=\"font-family: Times New Roman;\">dvp_tools</span><span style=\"font-family: 宋体;\">访问，将文件改到</span><span style=\"font-family: Times New Roman;\">/etc/dvp/sw_cfg/etc/</span><span style=\"font-family: 宋体;\">目录下，软链接到</span><span style=\"font-family: Times New Roman;\">/data/misc/wifi/</span><span style=\"font-family: 宋体;\">目录。</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">3、调用<span style=\"font-family: Times New Roman;\">route.conf</span><span style=\"font-family: 宋体;\">脚本来配置路由。</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">如果不配置路由，路由表中会出现两个<span style=\"font-family: Times New Roman;\">default</span><span style=\"font-family: 宋体;\">，</span><span style=\"font-family: Times New Roman;\">wifi</span><span style=\"font-family: 宋体;\">上不了网。</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\">&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-14/1510650046118_110926.png\" title=\"\" alt=\"1510650046118_110926.png\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">路由配置脚本route.conf：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">#!/bin/bash</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">route&nbsp;del&nbsp;-net&nbsp;default</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">var=`cat&nbsp;/etc/dvp/sw_cfg/base/eth.conf|grep&nbsp;eth_gateway`</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">gate_way=${var:12}&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">route&nbsp;add&nbsp;-net&nbsp;192.168.0.0&nbsp;gw&nbsp;$gate_way&nbsp;netmask&nbsp;255.255.0.0&nbsp;dev&nbsp;eth0</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\">&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-11-14/1510650070045_280171.png\" title=\"\" alt=\"1510650070045_280171.png\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-family:;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\">&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px;\">&nbsp;</p><p>&nbsp;</p>', 'DS2600', 'private', 'publish', '18', '4', '方雪嵘', 'fangxuerong@star-net.cn', '2017-11-14 15:52:12', 'fangxuerong@star-net.cn', '2017-11-14 17:04:48', '0');
INSERT INTO `article` VALUES ('A17120109470109', 'gerrit 代码审查', '概述        &nbsp;&nbsp;&nbsp;&nbsp;  Gerrit是Google为Android系统研发量身定制的一套免费开源的代码审核系统，它在传统的源码管理协作流程中强制性引入代码审核机制，通过人工代码审核和自动化代码验证过程，将不符合要求的代码屏蔽在代码库之外，确保核心代码多人校验、多人互备和自动化构建核验。  &nbsp;&nbsp;        &nbsp;&nbsp;        入门阅读：http://blog.csdn.net/jiankeufo/article/details/78280667        Gerrit 文档：http://19...', '<p><span style=\"font-weight: bold; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">概述</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 16px;\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(51, 51, 51); font-family: Arial, &#39;Microsoft YaHei&#39;; line-height: 24px; background-color: rgb(255, 255, 255);\">Gerrit是Google为Android系统研发量身定制的一套免费开源的代码审核系统，它在传统的源码管理协作流程中强制性引入代码审核机制，通过人工代码审核和自动化代码验证过程，将不符合要求的代码屏蔽在代码库之外，确保核心代码多人校验、多人互备和自动化构建核验。</span>&nbsp;&nbsp;</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 16px;\">&nbsp;&nbsp;</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 16px;\">入门阅读：http://blog.csdn.net/jiankeufo/article/details/78280667</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 16px;\">Gerrit 文档：http://192.168.161.110:8081/Documentation/index.html</span><br/></p><p>&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-12-01/1512097366303_264630.png\" title=\"1512097366303_264630.png\" alt=\"1512097366303_264630.png\" width=\"600\" height=\"331\"/></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-12-01/1512097434950_881738.png\" title=\"1512097434950_881738.png\" alt=\"1512097434950_881738.png\" width=\"600\" height=\"521\"/></p><p><span style=\"font-weight: bold; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\"><br/></span></p><p><span style=\"font-weight: bold; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">一、激活gerrit账号</span></p><p><span style=\"line-height: 1.45; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; 首先由管理员创建账号</span></p><pre class=\"brush:bash;toolbar:false\">[gerrit@localhost&nbsp;~]#&nbsp;htpasswd&nbsp;/home/gerrit/gerrit_site/etc/passwords&nbsp;jambo</pre><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; background-color: rgb(248, 248, 248);\"></span><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; 用户登录gerrit 激活账号：<br/></span></p><div><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; h</span><a href=\"http://192.168.161.110:8081/\" style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; text-decoration: underline;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">ttp://192.168.161.110:8081</span></a></div><div><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; 填写注册信息：</span></div><p><br/>&nbsp;&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-12-01/1512092770239_288754.png\" title=\"\" alt=\"1512092770239_288754.png\"/></p><p><br/></p><p><br/></p><p><strong><span style=\"font-size: 20px; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">二、</span><span style=\"font-size: 20px; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-weight: bold;\">本地git 项目加入gerrit code review 流程</span></strong></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp; &nbsp;</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; 首先把本地未提交的先提交到远程仓库，并从远程仓库获取最新代码。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; gerrit -&nbsp;web上查看项目信息：</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp; &nbsp;</span><img src=\"http://39.108.177.3:8080/static/ueditor/themes/default/images/spacer.gif\"/><img src=\"http://39.108.177.3:8080/upload//images/2017-12-01/1512093183085_036112.png\" title=\"\" alt=\"1512093183085_036112.png\"/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; 1. 修改本地工程配置</span></p><pre class=\"brush:bash;toolbar:false\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp;&nbsp;zxw@ubuntu:~/ds3000$&nbsp;vi&nbsp;.git/config<br/>&nbsp;&nbsp;&nbsp;[core]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;......<br/>&nbsp;&nbsp;&nbsp;[remote&nbsp;&quot;origin&quot;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#url&nbsp;=&nbsp;git@192.168.161.223:bamboo/ds3000.git<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;=&nbsp;ssh://zhengxiaowei@192.168.161.110:29418/ds3000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;#重定向到gerrit项目地址，注意前缀用户名要正确；<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch&nbsp;=&nbsp;+refs/heads/*:refs/remotes/origin/*<br/>&nbsp;&nbsp;&nbsp;[branch&nbsp;&quot;develop_modularity&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remote&nbsp;=&nbsp;origin<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;merge&nbsp;=&nbsp;refs/heads/develop_modularity<br/>&nbsp;&nbsp;&nbsp;[user]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #指定项目操作账号；<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;email&nbsp;=&nbsp;zhengxiaowei@star-net.cn<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;zhengxiaowei<br/>&nbsp;&nbsp;&nbsp;[alias]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#push&nbsp;取短名，提交评审只需执行 git review 命令，先pull 再push。<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;review&nbsp;=&nbsp;!sh&nbsp;-c&nbsp;&#39;git pull --rebase &amp;&amp; git&nbsp;push&nbsp;origin&nbsp;HEAD:refs/for/develop_modularity&#39;<br/></span></pre><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; 2. 下载提交钩子函数</span></p><pre class=\"brush:bash;toolbar:false\">     <span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">$ cd ds3000<br/> &nbsp; &nbsp; &nbsp; &nbsp;$ scp -p -P 29418 zhengxiaowei@192.168.161.110:hooks/commit-msg .git/hooks/</span><br/></pre><p>&nbsp; <span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">在window 系统上可能提示以下错误：</span></p><pre class=\"brush:bash;toolbar:false\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;$ scp -p -P 29418 dingqingfa@192.168.161.110:hooks/commit-msg .git/hooks/<br/> &nbsp; &nbsp; &nbsp; &nbsp;Unable to negotiate with 192.168.161.110: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1<br/></span></pre><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp; &nbsp;修复办法：</span></p><pre class=\"brush:bash;toolbar:false\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;$ vi ~/.ssh/config &nbsp; # 可能是新建文件，输入以下内容：<br/><br/> &nbsp; &nbsp; &nbsp; &nbsp;Host *<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;KexAlgorithms +diffie-hellman-group1-sha1</span><br/></pre><p><br/></p><p><br/></p><p><span style=\"font-weight: bold; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">三、提交本地修改供评审</span></p><p><span style=\"font-weight: bold; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 16px;\"><br/></span></p><pre class=\"brush:bash;toolbar:false\">     <span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 16px;\">$ git add *<br/> &nbsp; &nbsp; &nbsp; &nbsp;$ git commit -m &nbsp;&quot;***&quot;<br/> &nbsp; &nbsp; &nbsp; &nbsp;$ git review &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (需要先通过配置文件取别名，原命令：git push origin HEAD:refs/for/develop_modularity) &nbsp;</span><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></pre><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-weight: bold;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 9pt;\">&nbsp; &nbsp;&nbsp;</span><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-weight: bold;\"><br/></span></span></p><p><span style=\"font-size: 9pt; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp;<span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 16px;\"> 提交成功：</span></span></p><pre class=\"brush:bash;toolbar:false\">   <span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">zxw@ubuntu:~/ds3000$ git review<br/> &nbsp; &nbsp; &nbsp; &nbsp;Counting objects: 15, done.<br/> &nbsp; &nbsp; &nbsp; &nbsp;Delta compression using up to 2 threads.<br/> &nbsp; &nbsp; &nbsp; &nbsp;Compressing objects: 100% (2/2), done.<br/> &nbsp; &nbsp; &nbsp; &nbsp;Writing objects: 100% (3/3), 336 bytes | 0 bytes/s, done.<br/> &nbsp; &nbsp; &nbsp; &nbsp;Total 3 (delta 1), reused 0 (delta 0)<br/> &nbsp; &nbsp; &nbsp; &nbsp;remote: Resolving deltas: 100% (1/1)<br/> &nbsp; &nbsp; &nbsp; &nbsp;remote: Processing changes: new: 1, refs: 1, done &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp;remote:<br/> &nbsp; &nbsp; &nbsp; &nbsp;remote: New Changes:<br/> &nbsp; &nbsp; &nbsp; &nbsp;remote: &nbsp; http://192.168.161.110:8081/40 :q<br/> &nbsp; &nbsp; &nbsp; &nbsp;remote:<br/> &nbsp; &nbsp; &nbsp; &nbsp;To ssh://zhengxiaowei@192.168.161.110:29418/ds3000<br/> &nbsp; &nbsp; &nbsp; &nbsp;* [new branch] &nbsp; &nbsp; &nbsp;HEAD -&gt; refs/for/develop_modularity</span><br/></pre><p><span style=\"font-size: 9pt;\"></span><br/></p><p><span style=\"font-size: 9pt;\">&nbsp;&nbsp;</span> <span style=\"font-size: 9pt; color: rgb(168, 168, 168);\">&nbsp;</span></p><p><span style=\"font-size: 9pt; color: rgb(168, 168, 168);\"><br/></span></p><p><strong><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">四、审查代码</span></strong></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; 评审人员可以通过评审邮件链接或者gerrit 网页打开提交评审界面。</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; 通过点击提交文件列表查看修改内容，如果确认提交有效可以直接点击 &quot;Code-Review+2&quot;。</span></p><p><img src=\"http://39.108.177.3:8080/upload//images/2017-12-01/1512095663361_044362.png\" title=\"\" alt=\"1512095663361_044362.png\"/></p><p>&nbsp;</p><p>&nbsp;<span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">审核通过后可以通过 &quot;submit&quot; 将提交合并到仓库，此步骤会同步到gitlab 相关项目。&nbsp;</span></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">&nbsp; &nbsp;</span><img src=\"http://39.108.177.3:8080/upload//images/2017-12-01/1512095925569_761355.png\" title=\"\" alt=\"1512095925569_761355.png\"/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"> &nbsp;如果判断为提交尚需改善，可以通过打 &quot;-2&quot;分打回提交。</span></p><p>&nbsp;<img src=\"http://39.108.177.3:8080/upload//images/2017-12-01/1512095965328_137881.png\" title=\"\" alt=\"1512095965328_137881.png\"/></p><p><br/></p><p><br/></p><p><span style=\"font-weight: bold; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">五、重新提交被打回的提交</span></p><p><span style=\"font-weight: bold; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\"><br/></span></p><pre class=\"brush:bash;toolbar:false\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;;\">// rework...<br/>$ git add *<br/>$ git commit --amend &nbsp; &nbsp; &nbsp;#必须加 --amend 参数，否则会生成一此新的评审。<br/>$ git review</span><br/></pre><p><span style=\"font-weight: bold;\"></span><br/></p><p><br/></p><p><br/></p><p><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px; color: rgb(0, 176, 80);\"><span style=\"font-size: 20px; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; line-height: 27.2px; background-color: rgb(247, 247, 247);\">Git工作原则一&nbsp;</span><span style=\"font-size: 20px; font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; box-sizing: border-box; font-weight: 700; line-height: 27.2px; background-color: rgb(247, 247, 247);\">永远是基于远程库的最新代码工作，尽量每一步操作（特别是add/commit/push）都通过git pull --rebase获取一下当前最新版本。</span></span></p><p><br/></p><p><br/></p>', 'Git&Svn', 'private', 'draft', '24', '0', '丁庆发', 'dingqingfa@star-net.cn', '2017-12-01 09:47:01', 'dingqingfa@star-net.cn', '2017-12-06 14:44:06', '0');
INSERT INTO `article` VALUES ('A17120509570744', '蓝牙开锁预研报告', '...', '<p style=\"line-height: 16px;\"><span style=\"font-family: 微软雅黑, &#39;Microsoft YaHei&#39;; font-size: 20px;\">原项目《关于在T91安卓梯口机上使用蓝牙开锁的可行性预研》</span></p><p style=\"line-height: 16px;\"><br/></p><p style=\"line-height: 16px;\"><br/></p><p style=\"line-height: 16px;\"><img src=\"http://39.108.177.3:8080/upload//images/2017-12-05/1512438952430_738156.png\" title=\"1512438952430_738156.png\" alt=\"1512438952430_738156.png\" width=\"240\" height=\"101\"/></p><p style=\"line-height: 16px;\">&nbsp; <img src=\"http://39.108.177.3:8080/static/ueditor/dialogs/attachment/fileTypeImages/icon_pdf.gif\"/><a style=\"font-size:12px; color:#0066cc;\" href=\"http://39.108.177.3:8080/upload//files/2017-12-05/094832/蓝牙开锁预研报告-王锦乐.pdf\" title=\"蓝牙开锁预研报告-王锦乐.pdf\">蓝牙开锁预研报告-王锦乐.pdf</a></p><p><br/></p>', 'DS3000,Java,Android,Other', 'private', 'publish', '14', '0', '丁庆发', 'dingqingfa@star-net.cn', '2017-12-05 09:57:08', 'dingqingfa@star-net.cn', '2017-12-05 10:17:53', '0');

-- ----------------------------
-- Table structure for comment
-- ----------------------------
DROP TABLE IF EXISTS `comment`;
CREATE TABLE `comment` (
  `id` bigint(64) NOT NULL COMMENT '主键',
  `category` varchar(32) DEFAULT NULL COMMENT '类型',
  `parent_id` varchar(64) DEFAULT NULL COMMENT '所属',
  `previous_id` bigint(64) DEFAULT NULL COMMENT '回复所评论的id',
  `description` varchar(512) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '内容',
  `author_name` varchar(64) DEFAULT NULL COMMENT '创建者名字',
  `author_photo` varchar(64) DEFAULT NULL COMMENT '创建者头像',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `del_flag` varchar(64) DEFAULT NULL COMMENT '逻辑删除标记（0：显示；1：隐藏）',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='评论';

-- ----------------------------
-- Records of comment
-- ----------------------------
INSERT INTO `comment` VALUES ('150589772667', 'article', 'A17091309502743', null, '这是什么', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-09-20 16:55:26', 'dingqingfa@star-net.cn', '2017-09-20 16:57:27', '1');
INSERT INTO `comment` VALUES ('150589774052', 'article', 'A17091309502743', '150589772667', '【回复 丁庆发】： 什么东西', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-09-20 16:55:40', 'dingqingfa@star-net.cn', '2017-09-20 16:57:27', '1');
INSERT INTO `comment` VALUES ('150589775128', 'article', 'A17091309502743', null, '谁写的？', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-09-20 16:55:51', 'dingqingfa@star-net.cn', '2017-09-20 16:57:29', '1');
INSERT INTO `comment` VALUES ('150589789660', 'article', 'A17091309502743', null, '这是什么？', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-09-20 16:58:17', 'dingqingfa@star-net.cn', '2017-09-20 17:54:36', '1');
INSERT INTO `comment` VALUES ('150590081238', 'article', 'A17091309502743', null, '额，这是什么东西。', '李晴', '/images/photo/lion.png', 'liqing@star-net.cn', '2017-09-20 17:46:53', 'liqing@star-net.cn', '2017-09-20 17:53:15', '1');
INSERT INTO `comment` VALUES ('150590096351', 'article', 'A17091309502743', '150589789660', '【回复 丁庆发】： 生产相关的流程。', '李晴', '/images/photo/lion.png', 'liqing@star-net.cn', '2017-09-20 17:49:23', 'dingqingfa@star-net.cn', '2017-09-20 17:54:36', '1');
INSERT INTO `comment` VALUES ('150590125981', 'article', 'A17092016360581', null, '代码段可以换个颜色用。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-09-20 17:54:20', 'dingqingfa@star-net.cn', '2017-09-20 17:54:20', '0');
INSERT INTO `comment` VALUES ('150590159782', 'article', 'A17092016360581', null, '找不到合适颜色', '林圣腾', '/images/photo/zhiwu.png', 'linshengteng@star-net.cn', '2017-09-20 17:59:57', 'linshengteng@star-net.cn', '2017-09-20 18:00:27', '1');
INSERT INTO `comment` VALUES ('150590163733', 'article', 'A17092016360581', '150590125981', '【回复 丁庆发】： 找不到合适颜色', '林圣腾', '/images/photo/zhiwu.png', 'linshengteng@star-net.cn', '2017-09-20 18:00:37', 'linshengteng@star-net.cn', '2017-09-20 18:01:29', '1');
INSERT INTO `comment` VALUES ('150590169939', 'article', 'A17092016360581', '150590125981', '【回复 丁庆发】： 找不到合适颜色', '林圣腾', '/images/photo/zhiwu.png', 'linshengteng@star-net.cn', '2017-09-20 18:01:39', 'linshengteng@star-net.cn', '2017-09-20 18:01:39', '0');
INSERT INTO `comment` VALUES ('150590177723', 'article', 'A17091309502743', null, '高端', '林圣腾', '/images/photo/zhiwu.png', 'linshengteng@star-net.cn', '2017-09-20 18:02:57', 'linshengteng@star-net.cn', '2017-09-20 18:02:57', '0');
INSERT INTO `comment` VALUES ('150633261097', 'article', 'A17092515410473', null, '以为是攻略，可以细化一下过程就成攻略了/笑哭', '林圣腾', '/images/photo/zhiwu.png', 'linshengteng@star-net.cn', '2017-09-25 17:43:30', 'linshengteng@star-net.cn', '2017-09-25 17:43:30', '0');
INSERT INTO `comment` VALUES ('150633278230', 'article', 'A17092515410473', '150633261097', '【回复 林圣腾】： 竟然有手工表情。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-09-25 17:46:22', 'dingqingfa@star-net.cn', '2017-09-25 17:46:22', '0');
INSERT INTO `comment` VALUES ('150656202351', 'task', 'T17092809270352', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-09-28 09:27:04', 'dingqingfa@star-net.cn', '2017-09-28 09:27:04', '0');
INSERT INTO `comment` VALUES ('150656204918', 'task', 'T17082109121894', null, '电路问题，产品经理跟踪。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-09-28 09:27:29', 'dingqingfa@star-net.cn', '2017-09-28 09:27:29', '0');
INSERT INTO `comment` VALUES ('150656884189', 'task', 'T17082219265146', null, '由于彩生活开发进度不满足联调条件，项目进度需要变更。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-09-28 11:20:41', 'dingqingfa@star-net.cn', '2017-09-28 11:20:41', '0');
INSERT INTO `comment` VALUES ('150656925068', 'task', 'T17092811273072', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-09-28 11:27:31', 'dingqingfa@star-net.cn', '2017-09-28 11:27:31', '0');
INSERT INTO `comment` VALUES ('150659036475', 'task', 'T17092817192451', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-09-28 17:19:25', 'dingqingfa@star-net.cn', '2017-09-28 17:19:25', '0');
INSERT INTO `comment` VALUES ('150659101504', 'task', 'T17092817301541', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-09-28 17:30:16', 'dingqingfa@star-net.cn', '2017-09-28 17:30:16', '0');
INSERT INTO `comment` VALUES ('150673558006', 'task', 'T17093009394049', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-09-30 09:39:41', 'dingqingfa@star-net.cn', '2017-09-30 09:39:41', '0');
INSERT INTO `comment` VALUES ('150673573194', 'task', 'T17093009421037', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-09-30 09:42:11', 'dingqingfa@star-net.cn', '2017-09-30 09:42:11', '0');
INSERT INTO `comment` VALUES ('150751219336', 'task', 'T17100909231335', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-10-09 09:23:14', 'dingqingfa@star-net.cn', '2017-10-09 09:23:14', '0');
INSERT INTO `comment` VALUES ('150751247670', 'task', 'T17100909275646', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-10-09 09:27:57', 'dingqingfa@star-net.cn', '2017-10-09 09:27:57', '0');
INSERT INTO `comment` VALUES ('150751262266', 'task', 'T17100909302274', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-10-09 09:30:22', 'dingqingfa@star-net.cn', '2017-10-09 09:30:22', '0');
INSERT INTO `comment` VALUES ('150768658000', 'task', 'T17101109494018', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-10-11 09:49:40', 'dingqingfa@star-net.cn', '2017-10-11 09:49:40', '0');
INSERT INTO `comment` VALUES ('150768773808', 'task', 'T17101110085824', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-10-11 10:08:58', 'dingqingfa@star-net.cn', '2017-10-11 10:08:58', '0');
INSERT INTO `comment` VALUES ('150771611312', 'task', 'T17101118015252', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-10-11 18:01:53', 'dingqingfa@star-net.cn', '2017-10-11 18:01:53', '0');
INSERT INTO `comment` VALUES ('150811629103', 'task', 'T17101609113124', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-10-16 09:11:31', 'dingqingfa@star-net.cn', '2017-10-16 09:11:31', '0');
INSERT INTO `comment` VALUES ('150811704116', 'task', 'T17101609240172', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-10-16 09:24:01', 'dingqingfa@star-net.cn', '2017-10-16 09:24:01', '0');
INSERT INTO `comment` VALUES ('150881054800', 'task', 'T17092809270352', null, '由于界面上相比旧款差异较大，需要重新翻译词条，已提供词条给睿云联Cindy。', '李晴', '/images/photo/lion.png', 'liqing@star-net.cn', '2017-10-24 10:02:28', 'liqing@star-net.cn', '2017-10-24 10:02:33', '1');
INSERT INTO `comment` VALUES ('150881059641', 'task', 'T17092809270352', null, '由于界面上相比旧款机型差异较大，已提供词条给睿云联接口人Cindy。需要重新翻译。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-10-24 10:03:17', 'dingqingfa@star-net.cn', '2017-10-24 10:03:17', '0');
INSERT INTO `comment` VALUES ('150881064270', 'task', 'T17093009394049', null, '由于样板房延期，临时演示版本挂起，使用主线版本。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-10-24 10:04:02', 'dingqingfa@star-net.cn', '2017-10-24 10:04:02', '0');
INSERT INTO `comment` VALUES ('150881084434', 'task', 'T17092817301541', null, '蓝光来访延期。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-10-24 10:07:24', 'dingqingfa@star-net.cn', '2017-10-24 10:07:24', '0');
INSERT INTO `comment` VALUES ('150881094625', 'task', 'T17101109494018', null, '反复排查发现烧写失败的机器通过热风枪加热后可以恢复，怀疑与GD flash 总线频率有关系，实测证实GD flash 总线工作在100M 的较高频率上，比其他三款flash 都高。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-10-24 10:09:06', 'dingqingfa@star-net.cn', '2017-10-24 10:09:06', '0');
INSERT INTO `comment` VALUES ('150881102314', 'task', 'T17101109494018', null, '通过全志提供的针对GD flash 降频的补丁包问题没再出现。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-10-24 10:10:24', 'dingqingfa@star-net.cn', '2017-10-24 10:10:24', '0');
INSERT INTO `comment` VALUES ('150898308122', 'task', 'T17101609113124', null, '解决了某一自动化用例发现的稳定性问题，重新提测发布。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-10-26 09:58:02', 'dingqingfa@star-net.cn', '2017-10-26 09:58:02', '0');
INSERT INTO `comment` VALUES ('150993036598', 'task', 'T17110609060561', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-06 09:06:06', 'dingqingfa@star-net.cn', '2017-11-06 09:06:06', '0');
INSERT INTO `comment` VALUES ('150993039910', 'task', 'T17110609060561', null, '通过前置重启动作，缩短每轮测试时间，提高复现速度。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-11-06 09:06:39', 'dingqingfa@star-net.cn', '2017-11-06 09:06:45', '1');
INSERT INTO `comment` VALUES ('151001910420', 'task', 'T17110709450462', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-07 09:45:05', 'dingqingfa@star-net.cn', '2017-11-07 09:45:05', '0');
INSERT INTO `comment` VALUES ('151019808587', 'article', 'A17110911110868', null, '楼主好人啊，完美的解决了我的问题，我的qq号1213464390加个好友求分享附件/se', '林圣腾', '/images/photo/zhiwu.png', 'linshengteng@star-net.cn', '2017-11-09 11:28:06', 'linshengteng@star-net.cn', '2017-11-09 11:28:06', '0');
INSERT INTO `comment` VALUES ('151019825275', 'article', 'A17110911110868', '151019808587', '【回复 林圣腾】： 亲，记得给分哟', '陈钟', '/images/photo/giraffe.png', 'chenzhong.sy@star-net.cn', '2017-11-09 11:30:52', 'chenzhong.sy@star-net.cn', '2017-11-09 11:30:52', '0');
INSERT INTO `comment` VALUES ('151021458964', 'task', 'T17110916030958', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-09 16:03:10', 'dingqingfa@star-net.cn', '2017-11-09 16:03:10', '0');
INSERT INTO `comment` VALUES ('151053616317', 'task', 'T17092817301541', null, '蓝光客户来访时间待定，不再单独提供演示版本，后期再有演示需要直接上绿城项目版本。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-11-13 09:22:44', 'dingqingfa@star-net.cn', '2017-11-13 09:22:44', '0');
INSERT INTO `comment` VALUES ('151053640697', 'task', 'T17111309264680', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-13 09:26:47', 'dingqingfa@star-net.cn', '2017-11-13 09:26:47', '0');
INSERT INTO `comment` VALUES ('151053657118', 'task', 'T17111309293138', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-13 09:29:32', 'dingqingfa@star-net.cn', '2017-11-13 09:29:32', '0');
INSERT INTO `comment` VALUES ('151053662675', 'task', 'T17111309302618', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-13 09:30:26', 'dingqingfa@star-net.cn', '2017-11-13 09:30:26', '0');
INSERT INTO `comment` VALUES ('151053667598', 'task', 'T17111309311546', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-13 09:31:16', 'dingqingfa@star-net.cn', '2017-11-13 09:31:16', '0');
INSERT INTO `comment` VALUES ('151062302885', 'task', 'T17111409302800', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-14 09:30:29', 'dingqingfa@star-net.cn', '2017-11-14 09:30:29', '0');
INSERT INTO `comment` VALUES ('151064257645', 'task', 'T17111414561681', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-14 14:56:16', 'dingqingfa@star-net.cn', '2017-11-14 14:56:16', '0');
INSERT INTO `comment` VALUES ('151065336385', 'article', 'A17111415521278', null, '简约而不简单', '林圣腾', '/images/photo/zhiwu.png', 'linshengteng@star-net.cn', '2017-11-14 17:56:04', 'linshengteng@star-net.cn', '2017-11-14 17:56:04', '0');
INSERT INTO `comment` VALUES ('151070955313', 'article', 'A17111415521278', '151065336385', '【回复 林圣腾】： mq用自己的语言会越讲越乱，所以还是放个链接，想了解的去看原文吧，免得被我误导', '方雪嵘', '/images/photo/zebra.png', 'fangxuerong@star-net.cn', '2017-11-15 09:32:34', 'fangxuerong@star-net.cn', '2017-11-15 09:32:34', '0');
INSERT INTO `comment` VALUES ('151070961795', 'article', 'A17111415521278', '151065336385', '【回复 林圣腾】： 所以剩下的就不多了 / :-D', '方雪嵘', '/images/photo/zebra.png', 'fangxuerong@star-net.cn', '2017-11-15 09:33:37', 'fangxuerong@star-net.cn', '2017-11-15 09:33:37', '0');
INSERT INTO `comment` VALUES ('151070985674', 'task', 'T17111509373631', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-15 09:37:36', 'dingqingfa@star-net.cn', '2017-11-15 09:37:36', '0');
INSERT INTO `comment` VALUES ('151071329321', 'task', 'T17110609060561', null, '转到 DS2600 V5.0.3项目', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-11-15 10:34:54', 'dingqingfa@star-net.cn', '2017-11-15 10:34:54', '0');
INSERT INTO `comment` VALUES ('151071331818', 'task', 'T17101109494018', null, '转到 DS2600 v5.0.3 任务。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-11-15 10:35:18', 'dingqingfa@star-net.cn', '2017-11-15 10:35:18', '0');
INSERT INTO `comment` VALUES ('151088130279', 'task', 'T17111709150217', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-17 09:15:03', 'dingqingfa@star-net.cn', '2017-11-17 09:15:03', '0');
INSERT INTO `comment` VALUES ('151088148141', 'task', 'T17111709180142', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-17 09:18:01', 'dingqingfa@star-net.cn', '2017-11-17 09:18:01', '0');
INSERT INTO `comment` VALUES ('151114519915', 'task', 'T17112010331908', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-20 10:33:20', 'dingqingfa@star-net.cn', '2017-11-20 10:33:20', '0');
INSERT INTO `comment` VALUES ('151116514517', 'task', 'T17112016054528', null, '创建了这个任务。 --automatic generation--', null, null, 'linshengteng@star-net.cn', '2017-11-20 16:05:45', 'linshengteng@star-net.cn', '2017-11-20 16:05:45', '0');
INSERT INTO `comment` VALUES ('151116523614', 'task', 'T17112016071673', null, '创建了这个任务。 --automatic generation--', null, null, 'linshengteng@star-net.cn', '2017-11-20 16:07:17', 'linshengteng@star-net.cn', '2017-11-20 16:07:17', '0');
INSERT INTO `comment` VALUES ('151116532389', 'task', 'T17112016084308', null, '创建了这个任务。 --automatic generation--', null, null, 'linshengteng@star-net.cn', '2017-11-20 16:08:44', 'linshengteng@star-net.cn', '2017-11-20 16:08:44', '0');
INSERT INTO `comment` VALUES ('151152081469', 'task', 'T17112418533366', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-24 18:53:34', 'dingqingfa@star-net.cn', '2017-11-24 18:53:34', '0');
INSERT INTO `comment` VALUES ('151174593287', 'task', 'T17072111340965', null, '优先完善楼宇相关业务的功能，厂商SDK优化进度定期跟踪。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-11-27 09:25:33', 'dingqingfa@star-net.cn', '2017-11-27 09:25:33', '0');
INSERT INTO `comment` VALUES ('151174611448', 'task', 'T17112709283437', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-27 09:28:34', 'dingqingfa@star-net.cn', '2017-11-27 09:28:34', '0');
INSERT INTO `comment` VALUES ('151176529404', 'task', 'T17112714481407', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-11-27 14:48:14', 'dingqingfa@star-net.cn', '2017-11-27 14:48:14', '0');
INSERT INTO `comment` VALUES ('151235066383', 'task', 'T17110709450462', null, '项目规划3个阶段：<br />第一阶段：先基于原I80项目结合紫色新UI实现一个基础可演示版本；<br />第二阶段：剥离公共库和公共服务；<br />第三阶段：切割APK；', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-12-04 09:24:24', 'dingqingfa@star-net.cn', '2017-12-04 09:24:24', '0');
INSERT INTO `comment` VALUES ('151235072950', 'task', 'T17120409252901', null, '创建了这个任务。 --automatic generation--', null, null, 'dingqingfa@star-net.cn', '2017-12-04 09:25:29', 'dingqingfa@star-net.cn', '2017-12-04 09:25:29', '0');
INSERT INTO `comment` VALUES ('151236656997', 'task', 'T17072111340965', null, '根据绿城样板项目要求，魔镜需要自动注册功能。', '丁庆发', '/images/photo/hippo.png', 'dingqingfa@star-net.cn', '2017-12-04 13:49:30', 'dingqingfa@star-net.cn', '2017-12-04 13:49:30', '0');

-- ----------------------------
-- Table structure for project
-- ----------------------------
DROP TABLE IF EXISTS `project`;
CREATE TABLE `project` (
  `id` varchar(64) NOT NULL DEFAULT '' COMMENT '主键',
  `name` varchar(64) DEFAULT NULL COMMENT '项目名称',
  `description` varchar(128) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '项目需求',
  `status` varchar(64) DEFAULT NULL COMMENT '项目状态：1、未开始，2、正在进行，3、已完成，4、已结项，5、已归档',
  `progress` varchar(64) DEFAULT NULL COMMENT '项目进度',
  `project_manager` varchar(64) DEFAULT NULL COMMENT '项目经理',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `expect_finish_date` datetime DEFAULT NULL COMMENT '期望完成时间',
  `real_finish_date` datetime DEFAULT NULL COMMENT '实际完成时间',
  `del_flag` varchar(64) DEFAULT NULL COMMENT '逻辑删除标记（0：显示；1：隐藏）',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='项目';

-- ----------------------------
-- Records of project
-- ----------------------------
INSERT INTO `project` VALUES ('100', 'T91R', 'first project', null, null, null, 'dqf', '2017-07-27 19:45:16', null, null, null, null, null);
INSERT INTO `project` VALUES ('1002', 'I66', null, null, null, null, null, null, null, null, null, null, null);
INSERT INTO `project` VALUES ('1003', 'I68', null, null, null, null, null, null, null, null, null, null, null);
INSERT INTO `project` VALUES ('1004', 'zootopia', null, null, null, null, '丁庆发', null, null, null, null, null, null);
INSERT INTO `project` VALUES ('11', '辅助生产', null, null, null, null, 'admin', null, null, null, null, null, null);
INSERT INTO `project` VALUES ('12', '成品定制', null, null, null, null, 'admin', null, null, null, null, null, null);
INSERT INTO `project` VALUES ('13', '方案预研', null, null, null, null, 'admin', null, null, null, null, null, null);
INSERT INTO `project` VALUES ('14', '成品维护', null, null, null, null, 'admin', null, null, null, null, null, null);
INSERT INTO `project` VALUES ('15', '板卡定制', null, null, null, null, 'admin', null, null, null, null, null, null);
INSERT INTO `project` VALUES ('P17082219354920', 'X66L', '楼宇设备新产品，DS2600处理器，linux平台。\r\n和X66_3.0 共用主板。', '0', '0%', 'liqing@star-net.cn', 'dingqingfa@star-net.cn', '2017-08-22 19:35:50', 'dingqingfa@star-net.cn', '2017-08-22 19:35:50', '2017-08-22 19:35:50', null, '0');
INSERT INTO `project` VALUES ('P17093009360665', '智能魔镜', '镜面中嵌套Android系统，有健康、智能家居、对讲等功能。', '0', '0%', 'hongguifang@star-net.cn', 'dingqingfa@star-net.cn', '2017-09-30 09:36:07', 'dingqingfa@star-net.cn', '2017-09-30 09:36:07', '2017-09-30 09:36:07', null, '0');
INSERT INTO `project` VALUES ('P17110709431567', 'I100', '', '0', '0%', 'linshengteng@star-net.cn', 'dingqingfa@star-net.cn', '2017-11-07 09:43:15', 'dingqingfa@star-net.cn', '2017-11-07 09:43:15', '2017-11-07 09:43:15', null, '0');
INSERT INTO `project` VALUES ('P17112016041781', 'dvp_android', 'DVP安卓应用程序模块化', '0', '0%', 'dingqingfa@star-net.cn', 'linshengteng@star-net.cn', '2017-11-20 16:04:17', 'linshengteng@star-net.cn', '2017-11-20 16:04:17', '2017-11-20 16:04:17', null, '0');

-- ----------------------------
-- Table structure for subtask
-- ----------------------------
DROP TABLE IF EXISTS `subtask`;
CREATE TABLE `subtask` (
  `id` bigint(64) NOT NULL COMMENT '主键',
  `parent_id` varchar(64) DEFAULT NULL COMMENT '所属任务',
  `description` varchar(128) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '检查项描述',
  `status` varchar(64) DEFAULT NULL COMMENT '任务状态：0、未完成，1、已完成',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `del_flag` varchar(64) DEFAULT NULL COMMENT '逻辑删除标记（0：显示；1：隐藏）',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='子任务';

-- ----------------------------
-- Records of subtask
-- ----------------------------
INSERT INTO `subtask` VALUES ('150303539524', 'T17072111340965', '重新设计UI', '1', null, '2017-08-18 13:49:56', null, '2017-08-22 18:19:32', null);
INSERT INTO `subtask` VALUES ('150329438031', 'T17082113454481', '任务面板头部最多显示3个处理人；', '1', null, '2017-08-21 13:46:20', null, '2017-08-21 13:47:11', null);
INSERT INTO `subtask` VALUES ('150336782165', 'T17080410424594', '测试', '1', null, '2017-08-22 10:10:21', null, '2017-08-22 10:10:23', null);
INSERT INTO `subtask` VALUES ('150339717184', 'T17072111340965', '编写桌面widget', '1', null, '2017-08-22 18:19:31', null, '2017-12-04 13:47:58', null);
INSERT INTO `subtask` VALUES ('150339719694', 'T17072111340965', '实现监视、呼叫物业、布撤防、通话记录功能。', '1', null, '2017-08-22 18:19:56', null, '2017-12-04 13:47:58', null);
INSERT INTO `subtask` VALUES ('150656212262', 'T17082219265146', '在T91 应用中移植rabbitmq 。', '1', null, '2017-09-28 09:28:43', null, '2017-09-28 09:29:56', null);
INSERT INTO `subtask` VALUES ('150656215732', 'T17082219265146', '使用消息队列实现开锁、二维码更新、重启等功能；', '1', null, '2017-09-28 09:29:18', null, '2017-09-28 09:30:27', null);
INSERT INTO `subtask` VALUES ('150656222683', 'T17082219265146', '对接T91 sip功能到彩生活的sip服务器；', '1', null, '2017-09-28 09:30:26', null, '2017-09-28 09:30:28', null);
INSERT INTO `subtask` VALUES ('150656224292', 'T17082219265146', '功能联调；', '0', null, '2017-09-28 09:30:43', null, '2017-09-28 11:29:21', null);
INSERT INTO `subtask` VALUES ('150673578129', 'T17093009421037', '任务增加文件上传功能；', '0', null, '2017-09-30 09:43:02', null, '2017-09-30 09:43:02', null);
INSERT INTO `subtask` VALUES ('150673584435', 'T17093009421037', '增加任务处理结果填写与导出；', '0', null, '2017-09-30 09:44:04', null, '2017-09-30 09:44:04', null);
INSERT INTO `subtask` VALUES ('150673589598', 'T17093009421037', '完善评论区，显示输入框；良好的输入体验；', '0', null, '2017-09-30 09:44:55', null, '2017-09-30 09:50:54', null);
INSERT INTO `subtask` VALUES ('150673592075', 'T17093009421037', '任务分配增加全部分类；', '0', null, '2017-09-30 09:45:20', null, '2017-09-30 10:02:27', null);
INSERT INTO `subtask` VALUES ('150673595448', 'T17093009421037', '任务到期提醒，包括邮件和日期颜色；', '0', null, '2017-09-30 09:45:55', null, '2017-09-30 09:45:55', null);
INSERT INTO `subtask` VALUES ('150673597204', 'T17093009421037', '任务增加提测时间和发布时间；', '0', null, '2017-09-30 09:46:12', null, '2017-09-30 10:02:30', null);
INSERT INTO `subtask` VALUES ('150673601349', 'T17093009421037', '文章排序增加置顶功能；', '0', null, '2017-09-30 09:46:53', null, '2017-09-30 09:46:53', null);
INSERT INTO `subtask` VALUES ('150673602544', 'T17093009421037', '优化 icheck 控件的流畅性；', '0', null, '2017-09-30 09:47:06', null, '2017-09-30 10:02:31', null);
INSERT INTO `subtask` VALUES ('150673604524', 'T17093009421037', 'redis 引入，提高访问速度；', '0', null, '2017-09-30 09:47:25', null, '2017-09-30 10:02:32', null);
INSERT INTO `subtask` VALUES ('150673606314', 'T17093009421037', '修改一系列密码，不上传git；', '1', null, '2017-09-30 09:47:43', null, '2017-11-22 09:15:11', null);
INSERT INTO `subtask` VALUES ('150673687056', 'T17093009421037', '数据库、文件自动备份；', '0', null, '2017-09-30 10:01:10', null, '2017-09-30 10:01:10', null);
INSERT INTO `subtask` VALUES ('151010688406', 'T17100909275646', '1.新增智能家居类型，实现协议：发送场景列表查询、场景控制指令，接收与处理场景列表查询回包。', '1', null, '2017-11-08 10:08:04', null, '2017-11-08 10:08:19', null);
INSERT INTO `subtask` VALUES ('151010691060', 'T17100909275646', '2.新增智能家居界面：实现场景控制选项刷新、场景控制，和根据场景数量自动布局，以及翻页、页码显示功能。', '1', null, '2017-11-08 10:08:31', null, '2017-11-08 10:08:32', null);
INSERT INTO `subtask` VALUES ('151010695239', 'T17100909275646', '提测软件升级包（演示版本，无需测试，直接发给客户），上传地址：svn://192.168.61.223/dvp_rom/testing/custom/天诚百微/V5.0.2_[146.0001]/V5.0.2_[146.0001]_b1/', '1', null, '2017-11-08 10:09:12', null, '2017-11-08 10:09:31', null);
INSERT INTO `subtask` VALUES ('151010706042', 'T17101609113124', '解决稳定性问题（一天死机次数超过3个以上的稳定性bug）。', '1', null, '2017-11-08 10:11:00', null, '2017-11-08 10:11:04', null);
INSERT INTO `subtask` VALUES ('151116473333', 'T17110709450462', 'APK间通信预研', '0', null, '2017-11-20 15:58:54', null, '2017-11-20 15:58:54', null);
INSERT INTO `subtask` VALUES ('151116481380', 'T17110709450462', '模块分离梳理，制定初步框架', '0', null, '2017-11-20 16:00:14', null, '2017-11-20 16:00:14', null);
INSERT INTO `subtask` VALUES ('151116484762', 'T17110709450462', '带小部件桌面框架Demo', '0', null, '2017-11-20 16:00:48', null, '2017-11-20 16:00:48', null);
INSERT INTO `subtask` VALUES ('151174616028', 'T17112709283437', '在centos服务器上安装gerrit；', '1', null, '2017-11-27 09:29:21', null, '2017-11-27 09:30:40', null);
INSERT INTO `subtask` VALUES ('151174622917', 'T17112709283437', '连接gerrit 和gitlab 服务器；', '1', null, '2017-11-27 09:30:30', null, '2017-11-27 09:30:41', null);
INSERT INTO `subtask` VALUES ('151174623850', 'T17112709283437', '整理代码审核流程；', '1', null, '2017-11-27 09:30:38', null, '2017-12-02 10:32:17', null);
INSERT INTO `subtask` VALUES ('151174632252', 'T17112709283437', '在特定项目上试用代码审核；', '1', null, '2017-11-27 09:32:03', null, '2017-12-02 10:32:20', null);
INSERT INTO `subtask` VALUES ('151218195917', 'T17112709283437', '优化日常使用场景；', '0', null, '2017-12-02 10:32:40', null, '2017-12-04 09:28:45', null);

-- ----------------------------
-- Table structure for sys_dict
-- ----------------------------
DROP TABLE IF EXISTS `sys_dict`;
CREATE TABLE `sys_dict` (
  `id` varchar(64) NOT NULL COMMENT '编号',
  `name` varchar(64) DEFAULT NULL COMMENT '名称',
  `en_name` varchar(64) DEFAULT NULL COMMENT '英文名称',
  `sort` varchar(64) DEFAULT NULL COMMENT '分类',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `del_flag` char(1) DEFAULT '0' COMMENT '删除标记',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='系统字典';

-- ----------------------------
-- Records of sys_dict
-- ----------------------------
INSERT INTO `sys_dict` VALUES ('10001', '初稿', 'new', 'task_status', null, null, null, null, null);
INSERT INTO `sys_dict` VALUES ('10002', '正在处理', 'doing', 'task_status', null, null, null, null, null);
INSERT INTO `sys_dict` VALUES ('10003', '完成', 'done', 'task_status', null, null, null, null, null);
INSERT INTO `sys_dict` VALUES ('10004', '已审核', 'checked', 'task_status', null, null, null, null, null);
INSERT INTO `sys_dict` VALUES ('10005', '已归档', 'archived', 'task_status', null, null, null, null, null);
INSERT INTO `sys_dict` VALUES ('10006', '暂停', 'pause', 'task_status', null, null, null, null, null);
INSERT INTO `sys_dict` VALUES ('20001', 'DS3000', 'DS3000', 'article_category_platform', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20002', 'DS2600', 'DS2600', 'article_category_platform', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20003', 'DS2000', 'DS2000', 'article_category_platform', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20004', 'MCU', 'MCU', 'article_category_platform', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20005', 'C&C++', 'C&C++', 'article_category_language', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20006', 'Java', 'Java', 'article_category_language', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20007', 'Python', 'Python', 'article_category_language', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20008', 'Shell', 'Shell', 'article_category_language', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20009', 'JS&Jquery', 'Js&Jquery', 'article_category_language', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20010', 'Linux', 'Linux', 'article_category_system', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20011', 'Android', 'Android', 'article_category_system', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20012', 'IOS', 'IOS', 'article_category_system', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20013', 'JavaWeb', 'JavaWeb', 'article_category_system', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20014', 'Git&Svn', 'Git&Svn', 'article_category_system', null, null, null, null, '0');
INSERT INTO `sys_dict` VALUES ('20015', 'Other', 'Other', 'article_category_system', null, null, null, null, '0');

-- ----------------------------
-- Table structure for task
-- ----------------------------
DROP TABLE IF EXISTS `task`;
CREATE TABLE `task` (
  `id` varchar(64) NOT NULL DEFAULT '' COMMENT '主键',
  `project_name` varchar(64) DEFAULT NULL COMMENT '所属项目',
  `title` varchar(128) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '任务标题',
  `description` varchar(512) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '任务描述',
  `status` varchar(64) DEFAULT NULL COMMENT '任务状态：1、未分配，2、正在处理，3、已完成，4、已审核，5、已归档',
  `progress` varchar(64) DEFAULT NULL COMMENT '任务进度',
  `priority` varchar(32) DEFAULT NULL COMMENT '优先级',
  `assign_to` varchar(256) DEFAULT NULL COMMENT '处理者',
  `follower` varchar(256) DEFAULT NULL COMMENT '关注人',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `expect_finish_date` varchar(64) DEFAULT NULL COMMENT '期望完成时间',
  `real_finish_date` varchar(64) DEFAULT NULL COMMENT '实际完成时间',
  `finish_info` varchar(512) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '完成说明',
  `finish_link` varchar(128) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '任务标题',
  `del_flag` varchar(64) DEFAULT NULL COMMENT '逻辑删除标记（0：显示；1：隐藏）',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='任务';

-- ----------------------------
-- Records of task
-- ----------------------------
INSERT INTO `task` VALUES ('T17071817150796', 'teamwork', '账号注册登录以及权限校验', 'fsfffffffff啊手动阀手动阀', '10003', '100%', '0', 'dingqingfa@star-net.cn', 'chenzhong.sy@star-net.cn;liqing@star-net.cn;linshengteng@star-net.cn;fangxuerong@star-net.cn;huangwenwen@star-net.cn;hongguifang@star-net.cn;chenronghui@star-net.cn;dingqingfa@star-net.cn', null, '2017-07-18 17:15:07', null, '2017-11-13 11:06:54', '2017-07-21', '', '', '', '0');
INSERT INTO `task` VALUES ('T17072111340965', '智能魔镜', '魔镜绿城项目', '用于宁波绿城项目， 首页与智能家居、天气等结合。<br />客户：视源<br /><br />需要实现以下功能：<br />1. 重新设计UI；<br />2. 编写桌面空间widget；<br />3. 实现基本功能，呼叫中心、监视、记录；<br />4. 使用新样机支持8防区；<br /><br />时间节点：<br />1. 提供样机        【2017-10-11】<br />2. 提供防区sdk  【2017-10-12】<br />3. 完整测试版    【2017-10-16】<br />4. 发布               【2017-10-20】<br /><br />时间节点更新：<br />1. 10月19日星网发布对讲软件APP供CVTE测试，发布对讲功能的视频给绿城<br />2. 10月25日CVTE发布新机器（样机+防区模块 + 新协议版本），邮寄至绿城（2台）、星网（1台）、智轩（1台）<br />3. 10月26~30日星网、智轩调试，完成所有测试并发布APP。', '10002', '100%', '1', 'hongguifang@star-net.cn', 'chenzhong.sy@star-net.cn;liqing@star-net.cn;linshengteng@star-net.cn;fangxuerong@star-net.cn;huangwenwen@star-net.cn;hongguifang@star-net.cn;chenronghui@star-net.cn;dingqingfa@star-net.cn', null, '2017-07-21 11:34:10', null, '2017-12-04 13:47:58', '2017-10-25', '2017-07-29', '处理说明', 'http://www.baidu.com/abcd', '0');
INSERT INTO `task` VALUES ('T17073000453713', 'teamwork', '文件上传与管理功能', '', '10001', '0%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn;chenzhong.sy@star-net.cn;liqing@star-net.cn;linshengteng@star-net.cn;fangxuerong@star-net.cn;huangwenwen@star-net.cn', null, '2017-07-30 00:45:38', null, '2017-11-13 09:29:03', '2017-07-30', null, null, null, '1');
INSERT INTO `task` VALUES ('T17080215071754', 'teamwork', '搜索功能', '搜索内容', '10002', '0%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn;chenzhong.sy@star-net.cn;liqing@star-net.cn;linshengteng@star-net.cn;fangxuerong@star-net.cn;huangwenwen@star-net.cn;hongguifang@star-net.cn;chenronghui@star-net.cn', null, '2017-08-02 15:07:18', null, '2017-09-04 14:39:31', '2017-08-10', null, null, null, '1');
INSERT INTO `task` VALUES ('T17081614174204', 'teamwork', '使用redis缓存', '提高系统响应速度；<br />管理用户登录信息；', '10002', '83%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn;huangwenwen@star-net.cn', null, '2017-08-16 14:17:42', null, '2017-08-22 19:07:43', '2017-08-19', null, null, null, '1');
INSERT INTO `task` VALUES ('T17082109121894', '成品定制', '小咚批量生产问题跟踪', '新一批小咚代工生产过程中出现一定数量设备无法正常配对的问题。', '10003', '0%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-08-21 09:12:18', null, '2017-09-30 09:52:14', '2017-08-25', null, null, null, '0');
INSERT INTO `task` VALUES ('T17082113454481', 'teamwork', '任务管理功能完善', '详见', '10003', '100%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-08-21 13:45:44', null, '2017-09-08 11:03:30', '2017-08-25', null, null, null, '0');
INSERT INTO `task` VALUES ('T17082115212269', '成品定制', 'T91对接花样年云平台', '1.使用AMQP协议。', '10001', '0%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-08-21 15:21:23', null, '2017-09-04 14:27:47', '2017-09-30', null, null, null, '1');
INSERT INTO `task` VALUES ('T17082219204886', 'teamwork', '知识文章功能模块', '支持文章增删改；<br />支持按类别查看；', '10001', '0%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-08-22 19:20:48', null, '2017-09-01 22:39:57', '2017-08-25', null, null, null, '1');
INSERT INTO `task` VALUES ('T17082219265146', '成品定制', '花样年T91对接云平台', '支持sip对讲；<br />实现amqp协议；<br />实现远程控制；', '10006', '75%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-08-22 19:26:52', null, '2017-10-26 09:58:17', '2017-09-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17090410500733', '成品定制', 'X66_3.0 对接自主智能家居中控', '1. 电器：4个开关灯，1个窗帘，4种安防模式；<br />2. 进入控制界面时支持状态回读，用于更新电器状态；<br />3. 9月4日先提供控制命令数据供对方对接；<br />4. 控制命令需要对方回复数据；<br />5. 样板房演示用，不需要提测。<br />', '10003', '0%', '1', 'hongguifang@star-net.cn', 'hongguifang@star-net.cn', null, '2017-09-04 10:50:08', null, '2017-11-08 11:09:33', '2017-09-06', null, null, null, '0');
INSERT INTO `task` VALUES ('T17092809270352', '成品定制', 'X30_3.0 土耳其版本', '由于供货给睿云联的机型由DS2000平台的X30_2.1 切换到DS2600平台的X30_3.0，需要在新机型上迁移之前的土耳其版本定制功能。', '10003', '0%', '0', 'fangxuerong@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-09-28 09:27:04', null, '2017-11-27 09:19:15', '2017-10-31', null, null, null, '0');
INSERT INTO `task` VALUES ('T17092811273072', '成品定制', '通过U33R实现APP远程控制家庭空调', '【常州九州项目】<br />需要演示通过APP控制家庭空调的功能。<br />选用U33R 机型，通过WIFI 连接公网，并监听mq服务器对应的消息队列。收到APP发过来的控制命令后通过RS485转发给空调实现远程控制功能。<br />需要移植RabbitMq 消息队列。<br /><br />485协议：《通信协议(九洲新世界项目智能家居-空调).doc》<br /><br />时间节点：<br />- 11月1日 提测，预计两轮发布。', '10003', '0%', '1', 'fangxuerong@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-09-28 11:27:31', null, '2017-11-14 09:32:08', '2017-11-10', null, null, null, '0');
INSERT INTO `task` VALUES ('T17092817301541', '智能魔镜', '魔镜展厅演示版本', '【重要演示需求】<br />用于总部多功能展厅；<br />10月15日蓝光地产来公司考察演示，涉及集采。<br />要求实现对讲基本功能，可运行于展厅环境。', '10003', '0%', '0', 'linshengteng@star-net.cn;hongguifang@star-net.cn', 'hongguifang@star-net.cn', null, '2017-09-28 17:30:16', null, '2017-11-13 09:21:58', '2017-10-15', null, null, null, '0');
INSERT INTO `task` VALUES ('T17093009394049', '成品定制', 'I100 杭州阳光城样板房演示', 'i100的演示版本，针对杭州阳光的样板房（基于魔镜风格的UI，完成室内机的主要功能，10.20）', '10006', '0%', '0', 'linshengteng@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-09-30 09:39:40', null, '2017-10-25 13:56:47', '2017-10-20', null, null, null, '0');
INSERT INTO `task` VALUES ('T17093009421037', 'zootopia', 'Zootopia 新版本 v1.1', '', '10006', '9%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-09-30 09:42:11', null, '2017-11-22 09:15:11', '2017-10-31', null, null, null, '0');
INSERT INTO `task` VALUES ('T17100909231335', '成品定制', 'T91_2.0机型家和定制软件包', '由于机型升级，需要给威海家和提供T91_2.0 新机型的定制软件包，定制内容查看历史需求，知情人-林圣腾', '10003', '0%', '0', 'liqing@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-10-09 09:23:14', null, '2017-11-08 10:23:12', '2017-10-20', null, null, null, '0');
INSERT INTO `task` VALUES ('T17100909275646', '成品定制', '天诚百威X86智能家居定制', '先做演示，只有场景控制，场景类型从智能家居中控读取，协议由对方提供。<br />实际上项目会用I66 和I100。', '10003', '100%', '1', 'chenzhong.sy@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-10-09 09:27:57', null, '2017-11-08 10:46:10', '2017-10-31', null, null, null, '0');
INSERT INTO `task` VALUES ('T17100909302274', '成品定制', '睿云联Z73土耳其语言修订版本', '客户发现一些翻译错误，根据提供的翻译词条重新打包。', '10003', '0%', '0', 'fangxuerong@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-10-09 09:30:22', null, '2017-11-08 10:23:17', '2017-10-20', null, null, null, '0');
INSERT INTO `task` VALUES ('T17101109494018', '成品维护', 'GD Flash 使用一段时间出现分区只读问题排查', 'DS2600 平台导入新Flash 后出现的不稳定问题。', '10003', '0%', '1', 'liqing@star-net.cn', 'liqing@star-net.cn', null, '2017-10-11 09:49:40', null, '2017-11-15 10:36:32', '2017-10-31', null, null, null, '0');
INSERT INTO `task` VALUES ('T17101110085824', '成品维护', 'E10S sip对讲', '实现通过sip协议呼叫app。', '10002', '0%', '1', 'chenzhong.sy@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-10-11 10:08:58', null, '2017-12-04 10:01:07', '2017-12-15', null, null, null, '0');
INSERT INTO `task` VALUES ('T17101118015252', '成品维护', 'T91_V5.0.3', '1.使用新sip库，提高设备稳定性，需要做对比测试； <br />2.优化户外人脸识别效果，主要是T91SA_2.0；通过修改测光权重等方法。 <br />3.加入tcpdump 命令，方便问题排查。 <br />4.sip对讲把关键帧提升至1s（原来是2s），提高APP端视频出现的速度。<br /><br />其他：解决主线bug。', '10002', '0%', '0', 'liqing@star-net.cn', 'liqing@star-net.cn', null, '2017-10-11 18:01:53', null, '2017-12-04 10:05:36', '2017-11-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17101609113124', '成品维护', 'DS2000_v5.x 兼容版本', '', '10003', '100%', '0', 'chenzhong.sy@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-10-16 09:11:31', null, '2017-11-08 10:46:04', '2017-10-31', null, null, null, '0');
INSERT INTO `task` VALUES ('T17101609240172', 'T91R', 'T91R B1', '', '10003', '0%', '1', 'linshengteng@star-net.cn;huangwenwen@star-net.cn;chenronghui@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-10-16 09:24:01', null, '2017-12-05 14:05:08', '2017-10-20', null, null, null, '0');
INSERT INTO `task` VALUES ('T17110609060561', '成品维护', 'DS2600平台启动卡住问题', '概率性问题，最快1000多次出现一次。<br /><br />1. 通过前置重启动作，缩短每轮测试时间，提高复现速度。<br />2. 验证复现后看门狗效果，在boot0_main.c文件中。<br />3. 测试全志优化后的libdram库，不带看门狗。<br />4. 开启并测试内核看门狗。<br />', '10003', '0%', '0', 'liqing@star-net.cn;dingqingfa@star-net.cn', 'liqing@star-net.cn', null, '2017-11-06 09:06:06', null, '2017-11-15 10:34:59', '2017-11-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17110709450462', 'dvp_android', '模块化安卓应用程序框架预研', '每个业务开发一个apk；便于维护、测试与发布；<br />公共业务开发平台服务；如下载服务。<br />公共接口开发公共库；如网络封包解包。<br />输出程序分层框架图。', '10003', '0%', '1', 'linshengteng@star-net.cn;fangxuerong@star-net.cn;hongguifang@star-net.cn', '', null, '2017-11-07 09:45:05', null, '2017-12-04 09:24:31', '2017-11-17', null, null, null, '0');
INSERT INTO `task` VALUES ('T17110916030958', 'I66', 'I66 中海投标演示版本', '基于I100 阳光城演示版本，缩放到I66 机器上。<br />要求基本功能可用，包括呼叫、监视、设置等。<br />首页天气地区改成深圳市，其他信息可以先用假数据。<br /><br />使用X66L 触摸屏，驱动上可能需要做适配。如工作量大于预期则另外商讨对策。', '10003', '0%', '1', 'linshengteng@star-net.cn', 'linshengteng@star-net.cn', null, '2017-11-09 16:03:10', null, '2017-11-22 09:16:57', '2017-11-13', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111309264680', '成品定制', '阳光城丽景湾plus-室内机召梯', '电梯厂商：上海三菱电梯；<br />解决已发现bug；<br />梯口机招梯之前需求已实现，本次追加室内机招梯。', '10003', '0%', '0', 'hongguifang@star-net.cn', 'hongguifang@star-net.cn', null, '2017-11-13 09:26:47', null, '2017-11-13 10:55:40', '2017-11-17', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111309293138', '成品定制', '淮安大科-淮安东冠逸轩项目二期X30_3.0不显示硬件型号', '淮安大科-淮安东冠逸轩项目二期X30_3.0不显示硬件型号', '10003', '0%', '0', 'liqing@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-11-13 09:29:32', null, '2017-11-30 19:35:55', '2017-11-25', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111309302618', '成品定制', '美格T91_2.0软件包修改定制厂商信息', '1、开机logo修改为美格的logo。<br /> 2、系统信息里的型号，改成美格的XC7006<br /><br />最好底包和升级包都能提供一个，以备不时之需。（在兼容版本基础上打包即可）', '10003', '0%', '0', 'liqing@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-11-13 09:30:26', null, '2017-11-27 09:19:29', '2017-11-25', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111309311546', '成品定制', '南京云晶金星御园-X66L做梯控层显', '南京云晶金星御园-X66L做层显，电梯到达需要有语音提示给业主（如：电梯已到达），<br />做485梯控，不需APP召梯。<br /><br />使用自主协议，之前DS2000平台X30 已结实现过。', '10002', '0%', '0', 'liqing@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-11-13 09:31:16', null, '2017-12-04 10:05:38', '2017-12-11', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111409302800', 'T91R', 'T91R_B2', '', '10002', '0%', '1', 'linshengteng@star-net.cn;huangwenwen@star-net.cn;chenronghui@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-11-14 09:30:29', null, '2017-12-04 10:05:39', '2017-11-24', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111414561681', '成品维护', '完善楼宇节点合并配置功能', '支持配置节点合并级数，当前默认写死合并倒数两级（0101房），优化后可以配置 0 ~ 最大节点数。<br /><br />', '10001', '0%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-11-14 14:56:16', null, '2017-11-27 10:13:45', '2018-01-01', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111509373631', '成品维护', 'DS2600 V5.0.3版本', '为了提高DS2600平台的稳定性和兼容性，将于近期对该平台全系列产品进行一次固件更新，变更点如下（V5.0.3）：<br />    1. 完善对3款 spi-nand flash新料的支持；<br />    2. 修复偶发启动黑屏的 bug；<br />    3. 优化内核崩溃后无法重启的问题；<br /><br />    时间节点：<br />        - 2017-11-15 提测；<br />        - 测试策略和时间节点另外给出，优先发布E10S 机型和爆款。<br /><br />    DS2600全系列：X20、X30-3.0、X66-3.0、X66L、U33、U43、U53、E10S，共8款。', '10002', '0%', '0', 'liqing@star-net.cn', 'liqing@star-net.cn', null, '2017-11-15 09:37:36', null, '2017-12-04 10:06:09', '2017-11-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111709150217', '方案预研', '在佳宝安卓机上运行楼宇对讲应用', '评估是否可以运行我们的室内机apk程序。<br /><br />联系方式：<br />1. 佳宝技术：15659996899 赵工；<br />2. 佳宝技术：18059109681 杨辉；<br />3. 星网销售：13808088881 潘浩宇；', '10003', '0%', '0', 'linshengteng@star-net.cn', 'linshengteng@star-net.cn', null, '2017-11-17 09:15:03', null, '2017-11-27 09:19:36', '2017-11-17', null, null, null, '0');
INSERT INTO `task` VALUES ('T17111709180142', '成品定制', '模拟梯控数据异常', '设备：T91_1.0<br />要求：配置自主梯控协议后发送控制命令数据为乱码。<br />增加是否发乱码的配置开关，默认不开。<br /><br />目的：项目操作，不选用某品牌梯控。', '10003', '0%', '0', 'liqing@star-net.cn', 'liqing@star-net.cn', null, '2017-11-17 09:18:01', null, '2017-11-30 19:19:57', '2017-11-17', null, null, null, '0');
INSERT INTO `task` VALUES ('T17112010331908', '成品维护', 'T91_V5.0.4', '1.人脸识别失败记录上报，有框到人脸才上报，可用于开锁失败原因分析。<br />2.所有开锁都支持梯控联动，包括人脸识别、声波开锁、二维码、密码开锁等，部分要服务端配合。 <br />由ICMS提供界面配置入口，指定层在第几个节点，设备端通过这个信息设定招梯目的地。<br />3. 可见光人脸识别模式的白光补光灯自动开启的阈值可配置，避免应用环境光线处于临界值的场景补光灯工作不稳定，导致注册和识别场景存在差异。 <br />4.支持注册人脸修改，业主重新刷卡注册人脸时可以通过点击4张图片修改注册人脸。 <br />5.支持配置节点合并级数，当前默认写死合并倒数两级（0101房），优化后可以配置 0 ~ 最大节点数。<br /><br />其他：解决主线bug，包括人脸注册太多会卡主的问题。', '10001', '0%', '0', 'liqing@star-net.cn', 'liqing@star-net.cn', null, '2017-11-20 10:33:20', null, '2017-11-27 09:21:07', '2017-12-20', null, null, null, '0');
INSERT INTO `task` VALUES ('T17112016054528', 'dvp_android', 'APK间通信方式', '验证几种通信方式。<br />验证并发消息的优先级处理', '10002', '0%', '0', 'linshengteng@star-net.cn', 'linshengteng@star-net.cn', null, '2017-11-20 16:05:45', null, '2017-12-05 14:04:47', '2017-11-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17112016071673', 'dvp_android', '模块分离梳理，制定初步框架', '分离罗列哪些可作为公共C库，哪些为公共服务，罗列楼宇业务。<br />画出初步分层框架图。', '10002', '0%', '0', 'fangxuerong@star-net.cn', 'fangxuerong@star-net.cn', null, '2017-11-20 16:07:17', null, '2017-12-04 10:06:03', '2017-11-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17112016084308', 'dvp_android', '带小部件桌面框架Demo', '写一个简单apk带多个小部件加入桌面。<br />布局由UI设计的桌面demo。', '10002', '0%', '0', 'hongguifang@star-net.cn', 'hongguifang@star-net.cn', null, '2017-11-20 16:08:44', null, '2017-12-04 10:05:59', '2017-11-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17112418533366', '成品维护', 'DS2600 LCD新物料导入评估', '品牌：视安通；<br />玻璃：cpt；<br /><br />主要解决开机花屏的问题。', '10002', '0%', '1', 'liqing@star-net.cn', 'liqing@star-net.cn', null, '2017-11-24 18:53:34', null, '2017-12-04 10:10:04', '2017-11-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17112709283437', '成品维护', 'gerrit 代码审核', '', '10002', '80%', '0', 'dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-11-27 09:28:34', null, '2017-12-04 10:10:01', '2017-11-30', null, null, null, '0');
INSERT INTO `task` VALUES ('T17112714481407', '成品定制', '台湾雄悦-logo及厂商信息定制', '关联漫索：[CP171127-001]<br /><br />一、涉及机型：X66_1.0,X86,T91SA_2.0<br />二、logo修改为漫索附件logo<br />三、修改厂商信息为“雄悅國際有限公司”', '10002', '0%', '0', 'liqing@star-net.cn', 'liqing@star-net.cn', null, '2017-11-27 14:48:14', null, '2017-12-04 10:09:49', '2017-12-01', null, null, null, '0');
INSERT INTO `task` VALUES ('T17120409252901', 'I100', 'I100 & I66 第一阶段（新UI 可演示）', '1. 使用紫色新UI；<br />2. 全新桌面程序；<br />', '10002', '0%', '1', 'linshengteng@star-net.cn;fangxuerong@star-net.cn;hongguifang@star-net.cn;dingqingfa@star-net.cn', 'dingqingfa@star-net.cn', null, '2017-12-04 09:25:29', null, '2017-12-04 13:47:47', '2017-12-14', null, null, null, '0');

-- ----------------------------
-- Table structure for user
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `id` varchar(64) NOT NULL COMMENT '编号',
  `company_id` varchar(64) DEFAULT NULL COMMENT '归属公司',
  `office_id` varchar(64) DEFAULT NULL COMMENT '归属部门',
  `login_name` varchar(100) DEFAULT NULL COMMENT '登录名',
  `password` varchar(100) DEFAULT NULL COMMENT '密码',
  `no` varchar(100) DEFAULT NULL COMMENT '工号',
  `name` varchar(100) DEFAULT NULL COMMENT '姓名',
  `email` varchar(200) DEFAULT NULL COMMENT '邮箱',
  `phone` varchar(200) DEFAULT NULL COMMENT '电话',
  `mobile` varchar(200) DEFAULT NULL COMMENT '手机',
  `user_type` char(1) DEFAULT NULL COMMENT '用户类型',
  `photo` varchar(1000) DEFAULT NULL COMMENT '用户头像',
  `login_ip` varchar(100) DEFAULT NULL COMMENT '最后登陆IP',
  `login_date` datetime DEFAULT NULL COMMENT '最后登陆时间',
  `login_flag` varchar(64) DEFAULT NULL COMMENT '是否可登录',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `remarks` varchar(255) DEFAULT NULL COMMENT '备注信息',
  `del_flag` char(1) DEFAULT '0' COMMENT '删除标记',
  `qrcode` varchar(1000) DEFAULT NULL COMMENT '二维码',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `login_name` (`login_name`),
  UNIQUE KEY `no` (`no`),
  UNIQUE KEY `email` (`email`),
  UNIQUE KEY `phone` (`phone`),
  UNIQUE KEY `mobile` (`mobile`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='用户表';

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES ('102', null, null, null, 'T11478', 'T11478', '陈钟', 'chenzhong.sy@star-net.cn', null, null, null, '/images/photo/giraffe.png', null, null, null, null, null, null, null, null, null, null);
INSERT INTO `user` VALUES ('103', null, null, null, 'T10667', 'T10667', '李晴', 'liqing@star-net.cn', null, null, null, '/images/photo/lion.png', null, null, null, null, null, null, null, null, null, null);
INSERT INTO `user` VALUES ('104', null, null, null, 'T11441', 'T11441', '林圣腾', 'linshengteng@star-net.cn', null, null, null, '/images/photo/zhiwu.png', null, null, null, null, null, null, null, null, null, null);
INSERT INTO `user` VALUES ('105', null, null, null, 'T4025', 'T4025', '方雪嵘', 'fangxuerong@star-net.cn', null, null, null, '/images/photo/zebra.png', null, null, null, null, null, null, null, null, null, null);
INSERT INTO `user` VALUES ('106', null, null, null, 'T12665', 'T12665', '黄文文', 'huangwenwen@star-net.cn', null, null, null, '/images/photo/dragon.png', null, null, null, null, null, null, null, null, null, null);
INSERT INTO `user` VALUES ('107', null, null, null, 'T12693', 'T12693', '洪桂芳', 'hongguifang@star-net.cn', null, null, null, '/images/photo/elephant.png', null, null, null, null, null, null, null, null, null, null);
INSERT INTO `user` VALUES ('108', null, null, null, 'T13482', 'T13482', '陈荣辉', 'chenronghui@star-net.cn', null, null, null, '/images/photo/pig.png', null, null, null, null, null, null, null, null, null, null);
INSERT INTO `user` VALUES ('109', null, null, null, '115513875', 'T10316', '丁庆发', 'dingqingfa@star-net.cn', null, null, null, '/images/photo/hippo.png', null, null, null, null, null, null, null, null, null, null);
INSERT INTO `user` VALUES ('110', null, null, null, 'T10663', 'T10663', '王锦乐', 'wangjinle@star-net.cn', null, null, null, '/images/photo/bear.png', null, null, null, null, null, null, null, null, '0', null);
